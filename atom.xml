<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>宁静致远</title>
  
  <subtitle>静心整理/分享生活</subtitle>
  <link href="https://www.wangxingyang.com/atom.xml" rel="self"/>
  
  <link href="https://www.wangxingyang.com/"/>
  <updated>2022-09-12T14:59:38.464Z</updated>
  <id>https://www.wangxingyang.com/</id>
  
  <author>
    <name>彤爸比</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>假日分享</title>
    <link href="https://www.wangxingyang.com/dayshare220912.html"/>
    <image>https://freefitter.asuscomm.com:6884/uploads/big/f1a4f34f0308d5cb0913034486954760.png</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220912.html</id>
    <published>2022-09-12T13:03:18.000Z</published>
    <updated>2022-09-12T14:59:38.464Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>中秋节到了，准备出去遛娃了，好久没带她出去玩了。但是疫情也不能放松警惕，所以还是在南京玩玩，去去她没有去过的地方。下面看看我们的安排吧。</p></blockquote><h3 id="0-行程安排"><a href="#0-行程安排" class="headerlink" title="0.行程安排"></a>0.行程安排</h3><hr><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/bbb80f1e3f29e0a1f6ff4c4370bb2823.png" alt="行程安排"></p><h3 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h3><hr><p>今天去的是<code>南京科技馆</code>和老门东。疫情期间需要72小时核酸和提前预约。本着低碳生活的原则，都是选择公共交通出行的。科技馆还是值得一去的，里面的东西比较吸引小朋友，但是还是需要大一点的小朋友去会更好点，彤彤去了就是随便按按，原理什么的她都不想了解，去了就是这按按那踩踩的。话不多说直接上图。</p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/affb45f2a8e0017191a3d29ac5e84a81.png" alt="标准的游客照"></p><p>在负一楼是有一个高压放电的演示的，还是蛮不错的，时间好像是10点半。</p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/b7e15ba914a030598b5439e09dbf19eb.png" alt="随手拍"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/515d6c62b4ea02d8f5aab34b05f8ab82.png" alt="火箭模型"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/626d5e21ef30fb9743f9a8b5b8ce1744.png" alt="触觉感受冷热"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/d30a4050fa577079fdb796a3cc5c47bb.png" alt="一家三口"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/9eee19beaab40f19a71bce5c275c44a8.png" alt="平衡感"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/b94e6ac6efb2e1a73dbf740aab6d3aff.png" alt="沙盘"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/7c6631d6cac34baf22300759df03669b.png" alt="向日葵演示"></p><p>老门东的照片没怎么拍，主要彤宝有点折腾，她说不喜欢老门东的厕所，憋了好久。这不没折腾太久就回家了。</p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/f1a4f34f0308d5cb0913034486954760.png" alt="老门东"></p><h3 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h3><hr><p>南京博物院没约上，所以就没去了，直接去了中山陵，彤宝说要爬台阶，这次真的是她自己一个人爬上去的，还是很棒的。</p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/caf6ab494de4b0e3f3871c060f1acd7a.png" alt="一家三口"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/9f56f7e75a0ab4a2554cb97598733d14.png" alt="游客照"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/9ec61d90ecb0cfcfb7bb95af46ac66dd.png" alt="打卡起点"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/29b5aafbf8c4da1bc4d1a7a631a46862.png" alt="打卡中间"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/c213991eec9e37e7031c05d6b98ef686.png" alt="打卡登顶"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/22ae3fafcefa3934e6ce8d72b115eabe.png" alt="一览众山小"></p><p>妈妈做了个小视频</p><p><video src="https://freefitter.asuscomm.com:6884/uploads/big/d4b7a846d92c07f056657d2acb2c8af2.mp4" controls="controls" width="100%" muted="" autoplay="true" loop="loop"></video></p><h3 id="Day-3"><a href="#Day-3" class="headerlink" title="Day 3"></a>Day 3</h3><hr><p>今天本来准备出去玩的，但是这两天公共交通坐来坐去的还是挺折腾小孩子的，两天地铁上都睡着了，所以今天就准备商场逛逛，放松放松吧。晚上奶奶也回来了，去吃了西贝莜面，彤宝吃的还是很多的，儿童餐基本全部吃完了，他们家的大盘鸡不是很推荐，我吃的一般般，然后店员说如果不好吃可以退了，可能看出我于心不忍，最后打了对折。还是一次不错的体验吧。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><hr><p>没事还是得出去遛遛，读万卷书不如行万里路，今天彤彤又学会了一首诗。</p><center style="font-size:20px;color:green">早春呈水部张十八员外</center><center style="font-size:13px;color:red">韩愈〔唐代〕</center><center style="font-size:16px;color:gray">天街小雨润如酥，草色遥看近却无。</center><center style="font-size:16px;color:gray">最是一年春好处，绝胜烟柳满皇都。</center>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;中秋节到了，准备出去遛娃了，好久没带她出去玩了。但是疫情也不能放松警惕，所以还是在南京玩玩，去去她没有去过的地方。下面看看我们的安排吧。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-行程安排&quot;&gt;&lt;a href=&quot;#0-行程安排&quot; cla</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="中秋节" scheme="https://www.wangxingyang.com/tags/%E4%B8%AD%E7%A7%8B%E8%8A%82/"/>
    
    <category term="老门东" scheme="https://www.wangxingyang.com/tags/%E8%80%81%E9%97%A8%E4%B8%9C/"/>
    
    <category term="南京科技馆" scheme="https://www.wangxingyang.com/tags/%E5%8D%97%E4%BA%AC%E7%A7%91%E6%8A%80%E9%A6%86/"/>
    
    <category term="中山陵" scheme="https://www.wangxingyang.com/tags/%E4%B8%AD%E5%B1%B1%E9%99%B5/"/>
    
  </entry>
  
  <entry>
    <title>周末分享</title>
    <link href="https://www.wangxingyang.com/dayshare220904.html"/>
    <image>https://freefitter.asuscomm.com:6884/uploads/big/b563e3498fd71c7503ccbd3f6aaafc2b.png</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220904.html</id>
    <published>2022-09-04T03:24:42.000Z</published>
    <updated>2022-09-04T03:49:50.318Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>距离上次写博客已经过去一个月了，现在彤宝已经成长很多了。现在的她很棒很聪明，但是也很调皮。下面看看最近一周的她吧。</p></blockquote><h3 id="0-云幽谷游玩"><a href="#0-云幽谷游玩" class="headerlink" title="0.云幽谷游玩"></a>0.云幽谷游玩</h3><hr><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/b563e3498fd71c7503ccbd3f6aaafc2b.png" alt="游客照"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/fef548ad3af0ace8aa154a298d8c3cf7.png" alt="漂亮"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/8fced4a4171acea731073b8da248e7ea.png" alt="好看"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/2938c84a653a05d0ec3bdc5e3dd643fc.png" alt="划船🚣‍♀️"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/225c3518e4b7e126ed59e9547f301bb3.png" alt="山楂棒真好吃"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/c7cdf3ecac559d3c31cb5ac37e9e81fc.png" alt="摆拍"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/e886386f3229660098790ba1e2291ba9.png" alt="心心念念的开飞机"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/300e68fc73f71271c708367a2704ca22.png" alt="碰碰车"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/ac133b2228a5fedb6c177199c0dfac84.png" alt="彤宝拍的合照"></p><h3 id="1-科学和创意课"><a href="#1-科学和创意课" class="headerlink" title="1.科学和创意课"></a>1.科学和创意课</h3><hr><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/9db417b3bd6ffdc8c312ae2e4be67306.png" alt="搭积木"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/6252c098080fe2f9c941fd972f2fa015.png" alt="搭积木"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/48de53179b79d6819d6284c66a696769.png" alt="搭积木"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/72a01d4b1b27363be651e9956073e8e2.png" alt="认真听课"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/4a283d25dd712bb00cc94ed887dbe471.png" alt="认真听课"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/92203e80d183a627fccb18edde3d49ae.png" alt="做月饼"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/92203e80d183a627fccb18edde3d49ae.png" alt="做月饼"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/140da1617737630459c58373b9db77c7.png" alt="🥮合照"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/74a7e7a47971404d9de9d78725817331.png" alt="🥮合照"></p><h3 id="2-总结"><a href="#2-总结" class="headerlink" title="2.总结"></a>2.总结</h3><hr><p>天天开心，每天进步。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;距离上次写博客已经过去一个月了，现在彤宝已经成长很多了。现在的她很棒很聪明，但是也很调皮。下面看看最近一周的她吧。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-云幽谷游玩&quot;&gt;&lt;a href=&quot;#0-云幽谷游玩&quot; class=&quot;heade</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="遛娃" scheme="https://www.wangxingyang.com/tags/%E9%81%9B%E5%A8%83/"/>
    
    <category term="云幽谷" scheme="https://www.wangxingyang.com/tags/%E4%BA%91%E5%B9%BD%E8%B0%B7/"/>
    
    <category term="创意课" scheme="https://www.wangxingyang.com/tags/%E5%88%9B%E6%84%8F%E8%AF%BE/"/>
    
  </entry>
  
  <entry>
    <title>周末分享</title>
    <link href="https://www.wangxingyang.com/dayshare220731.html"/>
    <image>https://pic.rmb.bdstatic.com/bjh/67df07e6e58959b84c3fa400b1758340.png</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220731.html</id>
    <published>2022-07-31T14:59:54.000Z</published>
    <updated>2022-08-01T02:40:41.667Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>好久没有出去玩了，彤妈看了海底世界，所以周末准备带她去海底世界去玩玩。买的夜场票🎫，下午早些去，晚上八九点钟回来。</p></blockquote><h3 id="0-出发去海底世界"><a href="#0-出发去海底世界" class="headerlink" title="0.出发去海底世界"></a>0.出发去海底世界</h3><hr><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/ca561729706da655d62bd360becb0e00.png" alt="走走走"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/e85ed88298a09f37a978ceb71fa4f6d3.png" alt="看🐟"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/9a6743d69eabdab56aa92494cb986a17.png" alt="🐟"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/ccf681844b3eeca0f7d31c21aa9b2eb7.png" alt="小🐧"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/b7f6bf559aedccc3eee3656a90bda2b5.png" alt="海底隧道"></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/1a58ecaaca58e1fc98f3390ec05e1456.png" alt="美丽彤妈"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/6ed80c23ab4ca0b675d5eaba17b10ad4.jpeg" alt="表演"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/052eb4c84cd6923b64bce9b13433fe62.jpeg" alt="小鲨鱼"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/d690c7ec6214f5428a83ca5c706f7142.jpeg" alt="这是什么🐟"></p><h3 id="1-总结"><a href="#1-总结" class="headerlink" title="1.总结"></a>1.总结</h3><hr><p>没事出去遛遛，多见见世面哈。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;好久没有出去玩了，彤妈看了海底世界，所以周末准备带她去海底世界去玩玩。买的夜场票🎫，下午早些去，晚上八九点钟回来。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-出发去海底世界&quot;&gt;&lt;a href=&quot;#0-出发去海底世界&quot; class=&quot;</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="遛娃" scheme="https://www.wangxingyang.com/tags/%E9%81%9B%E5%A8%83/"/>
    
    <category term="南京海底世界" scheme="https://www.wangxingyang.com/tags/%E5%8D%97%E4%BA%AC%E6%B5%B7%E5%BA%95%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>周末分享</title>
    <link href="https://www.wangxingyang.com/dayshare220724.html"/>
    <image>https://freefitter.asuscomm.com:6884/uploads/big/28960cd7aac42c14f8fa1126946e9f5d.jpg</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220724.html</id>
    <published>2022-07-27T00:43:20.000Z</published>
    <updated>2022-07-27T01:26:25.179Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>周末去医院激光了，医生说不要出汗，所以周末就宅在家里了，然后在家里搞了点吃的。因为老婆说人家的空气炸锅不错，所以就去买了一个，然后回来就安排上了，看看成品吧。</p></blockquote><h3 id="0-菜品欣赏"><a href="#0-菜品欣赏" class="headerlink" title="0.菜品欣赏"></a>0.菜品欣赏</h3><hr><p><img src="https://pic.rmb.bdstatic.com/bjh/e7fe5f1c7a46115866ea07a2aee7a11f.jpeg" alt="新奥尔良烤翅"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/8eb400d34564ef3733c446e1b806a494.jpeg" alt="烤五花肉"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/99673f37bd472dad96ae135b8765f583.jpeg" alt="口蘑虾滑"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/d6007ace1600c536707d219394468f52.jpeg" alt="凉拌菜"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/393095abd24bddc62a65f774b83d9045.jpeg" alt="凉拌木耳"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/3a0b596b6b2f0af4c602933641df0b51.jpeg" alt="蓝莓酱"></p><h3 id="1-彤宝"><a href="#1-彤宝" class="headerlink" title="1.彤宝"></a>1.彤宝</h3><hr><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/49e01b14a1d6cf2b217802f74d6025f4.png" alt="比✌️"></p><p><video src="https://freefitter.asuscomm.com:6884/uploads/big/b7ee8968da99bc5f8dab3a6675bfc2b9.mp4" controls="controls" width="100%" muted="" autoplay="true" loop="loop"></video></p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/e1165701b9dcab3c64b000d6d77a2372.png" alt="风扇爱好者"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;周末去医院激光了，医生说不要出汗，所以周末就宅在家里了，然后在家里搞了点吃的。因为老婆说人家的空气炸锅不错，所以就去买了一个，然后回来就安排上了，看看成品吧。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-菜品欣赏&quot;&gt;&lt;a href=&quot;#</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="带娃" scheme="https://www.wangxingyang.com/tags/%E5%B8%A6%E5%A8%83/"/>
    
    <category term="做菜" scheme="https://www.wangxingyang.com/tags/%E5%81%9A%E8%8F%9C/"/>
    
  </entry>
  
  <entry>
    <title>Windows任务栏基金插件</title>
    <link href="https://www.wangxingyang.com/windowsfundplugin.html"/>
    <image>https://pic.rmb.bdstatic.com/bjh/2cd093ef12eb89494687f345e0c5c61f.png</image>
    
    <id>https://www.wangxingyang.com/windowsfundplugin.html</id>
    <published>2022-07-19T11:04:59.000Z</published>
    <updated>2022-08-26T12:08:25.781Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>之前写了一个苹果的基金净值插件，有需要的可以看看<a href="https://www.wangxingyang.com/xbarfundplugin.html">xbar/BitBar基金净值插件</a> ，这次写了一个<code>Python</code>的小插件，放在任务栏上，这样就能够随时查看你的基金了。</p></blockquote><h3 id="更新功能"><a href="#更新功能" class="headerlink" title="更新功能"></a>更新功能</h3><hr><p>本次加入功能如下：</p><ol><li>可以填加多个基金[最多九个]</li><li>实现阈值提醒功能</li><li>多个基金轮流显示</li><li>增加上证指数和黄金9999 的显示</li></ol><h4 id="设置操作展示"><a href="#设置操作展示" class="headerlink" title="设置操作展示"></a>设置操作展示</h4><hr><p><img src="https://s3.bmp.ovh/imgs/2022/07/25/6f1fe7dc2b67a254.gif" alt="设置操作"></p><h4 id="最终效果展示"><a href="#最终效果展示" class="headerlink" title="最终效果展示"></a>最终效果展示</h4><hr><p><img src="https://s3.bmp.ovh/imgs/2022/07/25/24277aeb7aad1ab1.gif" alt="效果展示"></p><h4 id="阈值提醒展示"><a href="#阈值提醒展示" class="headerlink" title="阈值提醒展示"></a>阈值提醒展示</h4><hr><p><img src="https://s3.bmp.ovh/imgs/2022/07/26/89734a738a36ce07.gif" alt="弹窗提醒"></p><h4 id="详细信息提醒展示"><a href="#详细信息提醒展示" class="headerlink" title="详细信息提醒展示"></a>详细信息提醒展示</h4><hr><p><img src="https://s3.bmp.ovh/imgs/2022/07/26/5fa47ed301683787.gif" alt="提示框展示信息"></p><p>程序已经打包好了，欢迎大家下载尝试。<a href="/download/TaskBar.exe">任务栏插件</a>，程序中用到 <code>yjg30737</code> 的 <a href="https://github.com/yjg30737/pyqt-toast">pyqt-toast</a> 的提示框。由于这个弹窗位置是基于父类的，所以对他的代码有所修改。</p><h3 id="0-成果"><a href="#0-成果" class="headerlink" title="0.成果"></a>0.成果</h3><hr><p>使用<code>PyQt5</code>来做界面开发，安装使用可以参看这边的教程<a href="https://zhuanlan.zhihu.com/p/162866700">PyQt5安装以及使用教程合集(2022)</a>。主要是把这个小插件放到任务栏，这样可以随时看到。可以设置刷新频率和增加删减基金。成果图是这样的，看起来还是不错的。</p><p><img src="https://pic.rmb.bdstatic.com/bjh/d660553687ce88ded4a95243f0fc692d.png" alt="成果图"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/fabd9e8927ece64b5c8568c959918ed7.png" alt="右键菜单"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/ca396ff658f921873a57c73d9299f730.png" alt="设置界面"></p><h3 id="1-代码"><a href="#1-代码" class="headerlink" title="1.代码"></a>1.代码</h3><hr><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token punctuation">,</span> requests<span class="token punctuation">,</span> time<span class="token punctuation">,</span> win32gui<span class="token punctuation">,</span> json<span class="token keyword">import</span> win32api<span class="token punctuation">,</span> win32con<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">import</span> pickle<span class="token keyword">import</span> os<span class="token keyword">import</span> base64<span class="token keyword">from</span> functools <span class="token keyword">import</span> partial<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> quote<span class="token keyword">from</span> imgpy <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> pyqt_toast <span class="token keyword">import</span> Toast<span class="token keyword">import</span> ctypes<span class="token keyword">class</span> <span class="token class-name">BackendThread</span><span class="token punctuation">(</span>QObject<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># 通过类成员对象定义信号</span>    update_date <span class="token operator">=</span> pyqtSignal<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>    fundCodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    interval <span class="token operator">=</span> <span class="token number">10</span>    fzkey <span class="token operator">=</span> <span class="token number">0</span>    fzval <span class="token operator">=</span> <span class="token number">0</span>    fzfh <span class="token operator">=</span> <span class="token number">0</span>    currentPage <span class="token operator">=</span> <span class="token number">1</span>    hot_currentPage <span class="token operator">=</span> <span class="token number">1</span>    pageCount <span class="token operator">=</span> <span class="token number">0</span>    fzlist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'dwjz'</span><span class="token punctuation">,</span> <span class="token string">'gsz'</span><span class="token punctuation">,</span> <span class="token string">'gszzl'</span><span class="token punctuation">]</span>    au9999 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    sh000001 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    display_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'fund'</span><span class="token punctuation">,</span> <span class="token string">'hot'</span><span class="token punctuation">,</span> <span class="token string">'mov'</span><span class="token punctuation">]</span>    display_type <span class="token operator">=</span> <span class="token number">0</span>    display_num <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">'db.pkl'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.pkl'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>            <span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            win32api<span class="token punctuation">.</span>MessageBox<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"无法创建文件，没有权限！请检查"</span><span class="token punctuation">,</span> <span class="token string">"提醒"</span><span class="token punctuation">,</span> win32con<span class="token punctuation">.</span>MB_OK<span class="token punctuation">)</span>            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getsize<span class="token punctuation">(</span><span class="token string">'db.pkl'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>        pkl_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.pkl'</span><span class="token punctuation">,</span> <span class="token string">'rb+'</span><span class="token punctuation">)</span>        fundCodes<span class="token punctuation">,</span> interval<span class="token punctuation">,</span> fzkey<span class="token punctuation">,</span> fzval<span class="token punctuation">,</span> fzfh<span class="token punctuation">,</span> display_type<span class="token punctuation">,</span> display_num <span class="token operator">=</span> pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span>pkl_file<span class="token punctuation">)</span>        pkl_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">refresh_fund</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        t <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>        json_content <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        status <span class="token operator">=</span> <span class="token string">"ok"</span>        msg <span class="token operator">=</span> <span class="token string">"success"</span>        headers <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">'Host'</span><span class="token punctuation">:</span> <span class="token string">'hq.sinajs.cn'</span><span class="token punctuation">,</span>            <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'https://finance.sina.com.cn/realstock/company/sh000001/nc.shtml'</span>        <span class="token punctuation">}</span>        <span class="token comment">##  】上证指数</span>        apiUrl <span class="token operator">=</span> <span class="token string">"https://hq.sinajs.cn/rn="</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&amp;list=s_sh000001"</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            retstr <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>apiUrl<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text            retArrtmp <span class="token operator">=</span> retstr<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'"'</span><span class="token punctuation">)</span>            retArr <span class="token operator">=</span> retArrtmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>sh000001 <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token string">"name"</span><span class="token punctuation">:</span> retArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token string">"price"</span><span class="token punctuation">:</span> retArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>            <span class="token punctuation">}</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>sh000001 <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"上证指数"</span><span class="token punctuation">,</span>                <span class="token string">"price"</span><span class="token punctuation">:</span> <span class="token string">"获取异常"</span>            <span class="token punctuation">}</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'获取上证指数异常'</span><span class="token punctuation">)</span>        <span class="token comment">## 黄金</span>        apiUrl <span class="token operator">=</span> <span class="token string">"https://api.jijinhao.com/quoteCenter/realTime.htm?codes=JO_71&amp;_="</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            retstr <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>apiUrl<span class="token punctuation">)</span><span class="token punctuation">.</span>text            retstr <span class="token operator">=</span> retstr<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"var quote_json ="</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>            jsonData <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>retstr<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>au9999 <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token string">"name"</span><span class="token punctuation">:</span> jsonData<span class="token punctuation">[</span><span class="token string">"JO_71"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"showName"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token string">"price"</span><span class="token punctuation">:</span> jsonData<span class="token punctuation">[</span><span class="token string">"JO_71"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"q5"</span><span class="token punctuation">]</span>            <span class="token punctuation">}</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>au9999 <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"黄金9999"</span><span class="token punctuation">,</span>                <span class="token string">"price"</span><span class="token punctuation">:</span> <span class="token string">"获取异常"</span>            <span class="token punctuation">}</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'获取黄金异常'</span><span class="token punctuation">)</span>        data_ret <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">"status"</span><span class="token punctuation">:</span> status<span class="token punctuation">,</span>            <span class="token string">"reminder"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token string">"fzkey"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>fzlist<span class="token punctuation">[</span>self<span class="token punctuation">.</span>fzkey<span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token string">"fzval"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>fzval<span class="token punctuation">,</span>                <span class="token string">"fzfh"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>fzfh            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token string">"reference"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token string">"AU9999"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>au9999<span class="token punctuation">,</span>                <span class="token string">"SH000001"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>sh000001            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token string">"msg"</span><span class="token punctuation">:</span> msg<span class="token punctuation">,</span>            <span class="token string">"type"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>display_type<span class="token punctuation">,</span>            <span class="token string">"data"</span><span class="token punctuation">:</span> json_content        <span class="token punctuation">}</span>        data_count <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>fundCodes<span class="token punctuation">)</span>        limit <span class="token operator">=</span> <span class="token number">3</span>        <span class="token keyword">if</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">%</span> limit<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>pageCount <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">/</span> limit<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>pageCount <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">/</span> limit<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>currentPage <span class="token operator">&gt;</span> self<span class="token punctuation">.</span>pageCount<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>currentPage <span class="token operator">=</span> <span class="token number">1</span>        start_index <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>currentPage <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> limit        last_limit <span class="token operator">=</span> <span class="token number">9999</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>currentPage <span class="token operator">==</span> self<span class="token punctuation">.</span>pageCount<span class="token punctuation">:</span>            last_limit <span class="token operator">=</span> data_count <span class="token operator">%</span> limit  <span class="token comment"># 最后一页的数据条数</span>        <span class="token keyword">if</span> last_limit <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            last_limit <span class="token operator">=</span> limit        <span class="token keyword">if</span> last_limit <span class="token operator">!=</span> <span class="token number">9999</span><span class="token punctuation">:</span>            limit <span class="token operator">=</span> last_limit        end_index <span class="token operator">=</span> start_index <span class="token operator">+</span> limit        <span class="token builtin">list</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>fundCodes<span class="token punctuation">[</span>start_index<span class="token punctuation">:</span>end_index<span class="token punctuation">]</span>        num <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> fundcode <span class="token keyword">in</span> <span class="token builtin">list</span><span class="token punctuation">:</span>            apiUrl <span class="token operator">=</span> <span class="token string">"http://fundgz.1234567.com.cn/js/"</span> <span class="token operator">+</span> fundcode <span class="token operator">+</span> <span class="token string">".js?rt="</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">try</span><span class="token punctuation">:</span>                retstr <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>apiUrl<span class="token punctuation">)</span><span class="token punctuation">.</span>text                <span class="token comment"># print(retstr)</span>                retstr <span class="token operator">=</span> retstr<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"jsonpgz("</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">");"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>                <span class="token comment"># print(retstr)</span>                <span class="token keyword">if</span> retstr <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>                    jsonData <span class="token operator">=</span> <span class="token punctuation">{</span>                        <span class="token string">"fundcode"</span><span class="token punctuation">:</span> fundcode<span class="token punctuation">,</span>                        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"暂无数据......"</span><span class="token punctuation">,</span>                        <span class="token string">"jzrq"</span><span class="token punctuation">:</span> <span class="token string">"--"</span><span class="token punctuation">,</span>                        <span class="token string">"dwjz"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                        <span class="token string">"gsz"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                        <span class="token string">"gszzl"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                        <span class="token string">"gztime"</span><span class="token punctuation">:</span> <span class="token string">"--"</span>                    <span class="token punctuation">}</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    jsonData <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>retstr<span class="token punctuation">)</span>                json_content<span class="token punctuation">.</span>append<span class="token punctuation">(</span>jsonData<span class="token punctuation">)</span>            <span class="token keyword">except</span> requests<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span>ConnectionError<span class="token punctuation">:</span>                <span class="token comment"># print("网络连接异常......")</span>                jsonData <span class="token operator">=</span> <span class="token punctuation">{</span>                    <span class="token string">"fundcode"</span><span class="token punctuation">:</span> fundcode<span class="token punctuation">,</span>                    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"网络连接异常......"</span><span class="token punctuation">,</span>                    <span class="token string">"jzrq"</span><span class="token punctuation">:</span> <span class="token string">"--"</span><span class="token punctuation">,</span>                    <span class="token string">"dwjz"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gsz"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gszzl"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gztime"</span><span class="token punctuation">:</span> <span class="token string">"--"</span>                <span class="token punctuation">}</span>                json_content<span class="token punctuation">.</span>append<span class="token punctuation">(</span>jsonData<span class="token punctuation">)</span>            <span class="token keyword">except</span> requests<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span>ChunkedEncodingError<span class="token punctuation">:</span>                <span class="token comment"># print("Chunked编码异常......")</span>                jsonData <span class="token operator">=</span> <span class="token punctuation">{</span>                    <span class="token string">"fundcode"</span><span class="token punctuation">:</span> fundcode<span class="token punctuation">,</span>                    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Chunked编码异常......"</span><span class="token punctuation">,</span>                    <span class="token string">"jzrq"</span><span class="token punctuation">:</span> <span class="token string">"--"</span><span class="token punctuation">,</span>                    <span class="token string">"dwjz"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gsz"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gszzl"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gztime"</span><span class="token punctuation">:</span> <span class="token string">"--"</span>                <span class="token punctuation">}</span>                json_content<span class="token punctuation">.</span>append<span class="token punctuation">(</span>jsonData<span class="token punctuation">)</span>            <span class="token keyword">except</span><span class="token punctuation">:</span>                jsonData <span class="token operator">=</span> <span class="token punctuation">{</span>                    <span class="token string">"fundcode"</span><span class="token punctuation">:</span> fundcode<span class="token punctuation">,</span>                    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"未知异常......"</span><span class="token punctuation">,</span>                    <span class="token string">"jzrq"</span><span class="token punctuation">:</span> <span class="token string">"--"</span><span class="token punctuation">,</span>                    <span class="token string">"dwjz"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gsz"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gszzl"</span><span class="token punctuation">:</span> <span class="token string">"0.0"</span><span class="token punctuation">,</span>                    <span class="token string">"gztime"</span><span class="token punctuation">:</span> <span class="token string">"--"</span>                <span class="token punctuation">}</span>                json_content<span class="token punctuation">.</span>append<span class="token punctuation">(</span>jsonData<span class="token punctuation">)</span>            num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>        <span class="token comment"># print(json.dumps(data_ret, indent=2))</span>        self<span class="token punctuation">.</span>update_date<span class="token punctuation">.</span>emit<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data_ret<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>currentPage <span class="token operator">=</span> self<span class="token punctuation">.</span>currentPage <span class="token operator">+</span> <span class="token number">1</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>self<span class="token punctuation">.</span>interval<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">refresh_hot</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        status <span class="token operator">=</span> <span class="token string">"ok"</span>        msg <span class="token operator">=</span> <span class="token string">"success"</span>        all_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            apiUrl <span class="token operator">=</span> <span class="token string">"https://weibo.com/ajax/side/hotSearch"</span>            ret_json <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>apiUrl<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">for</span> data <span class="token keyword">in</span> ret_json<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"realtime"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> <span class="token string">"ad_info"</span> <span class="token keyword">in</span> data<span class="token punctuation">:</span>                    all_data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"获取热搜异常"</span><span class="token punctuation">)</span>        data_count <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>display_num <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>        limit <span class="token operator">=</span> <span class="token number">3</span>        <span class="token keyword">if</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">%</span> limit<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>pageCount <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">/</span> limit<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>pageCount <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">/</span> limit<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">&gt;</span> self<span class="token punctuation">.</span>pageCount<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">=</span> <span class="token number">1</span>        start_index <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> limit        last_limit <span class="token operator">=</span> <span class="token number">9999</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">==</span> self<span class="token punctuation">.</span>pageCount<span class="token punctuation">:</span>            last_limit <span class="token operator">=</span> data_count <span class="token operator">%</span> limit  <span class="token comment"># 最后一页的数据条数</span>        <span class="token keyword">if</span> last_limit <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            last_limit <span class="token operator">=</span> limit        <span class="token keyword">if</span> last_limit <span class="token operator">!=</span> <span class="token number">9999</span><span class="token punctuation">:</span>            limit <span class="token operator">=</span> last_limit        end_index <span class="token operator">=</span> start_index <span class="token operator">+</span> limit        <span class="token builtin">list</span> <span class="token operator">=</span> all_data<span class="token punctuation">[</span>start_index<span class="token punctuation">:</span>end_index<span class="token punctuation">]</span>        data_ret <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">"status"</span><span class="token punctuation">:</span> status<span class="token punctuation">,</span>            <span class="token string">"msg"</span><span class="token punctuation">:</span> msg<span class="token punctuation">,</span>            <span class="token string">"type"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>display_type<span class="token punctuation">,</span>            <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token builtin">list</span>        <span class="token punctuation">}</span>        self<span class="token punctuation">.</span>update_date<span class="token punctuation">.</span>emit<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data_ret<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># print(json.dumps(data_ret, indent=2))</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>self<span class="token punctuation">.</span>interval<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">=</span> self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">+</span> <span class="token number">1</span>    <span class="token keyword">def</span> <span class="token function">refresh_movie</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        status <span class="token operator">=</span> <span class="token string">"ok"</span>        msg <span class="token operator">=</span> <span class="token string">"success"</span>        all_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        headers <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">'Host'</span><span class="token punctuation">:</span> <span class="token string">'i.maoyan.com'</span><span class="token punctuation">,</span>            <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Mobile Safari/537.36'</span>        <span class="token punctuation">}</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            apiUrl <span class="token operator">=</span> <span class="token string">"https://i.maoyan.com/api/mmdb/movie/v3/list/hot.json"</span>            ret_json <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>apiUrl<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># print(ret_json)</span>            <span class="token keyword">for</span> data <span class="token keyword">in</span> ret_json<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"hot"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                all_data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"获取电影排行榜异常异常"</span><span class="token punctuation">)</span>        data_count <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>display_num <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>        limit <span class="token operator">=</span> <span class="token number">3</span>        <span class="token keyword">if</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">%</span> limit<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>pageCount <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">/</span> limit<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>pageCount <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>data_count <span class="token operator">/</span> limit<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">&gt;</span> self<span class="token punctuation">.</span>pageCount<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">=</span> <span class="token number">1</span>        start_index <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> limit        last_limit <span class="token operator">=</span> <span class="token number">9999</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">==</span> self<span class="token punctuation">.</span>pageCount<span class="token punctuation">:</span>            last_limit <span class="token operator">=</span> data_count <span class="token operator">%</span> limit  <span class="token comment"># 最后一页的数据条数</span>        <span class="token keyword">if</span> last_limit <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            last_limit <span class="token operator">=</span> limit        <span class="token keyword">if</span> last_limit <span class="token operator">!=</span> <span class="token number">9999</span><span class="token punctuation">:</span>            limit <span class="token operator">=</span> last_limit        end_index <span class="token operator">=</span> start_index <span class="token operator">+</span> limit        <span class="token builtin">list</span> <span class="token operator">=</span> all_data<span class="token punctuation">[</span>start_index<span class="token punctuation">:</span>end_index<span class="token punctuation">]</span>        data_ret <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">"status"</span><span class="token punctuation">:</span> status<span class="token punctuation">,</span>            <span class="token string">"msg"</span><span class="token punctuation">:</span> msg<span class="token punctuation">,</span>            <span class="token string">"type"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>display_type<span class="token punctuation">,</span>            <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token builtin">list</span>        <span class="token punctuation">}</span>        self<span class="token punctuation">.</span>update_date<span class="token punctuation">.</span>emit<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data_ret<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># print(json.dumps(data_ret, indent=2))</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">=</span> self<span class="token punctuation">.</span>hot_currentPage <span class="token operator">+</span> <span class="token number">1</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> self<span class="token punctuation">.</span>display_type <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>refresh_hot<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">elif</span> self<span class="token punctuation">.</span>display_type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>refresh_fund<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">elif</span> self<span class="token punctuation">.</span>display_type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>refresh_movie<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">set_interval</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>interval <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">set_fundCodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>fundCodes <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">set_fzkey</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>fzkey <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">set_fzval</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>fzval <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">set_fzfh</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>fzfh <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">set_display_type</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>display_type <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">set_display_num</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>display_num <span class="token operator">=</span> value<span class="token keyword">class</span> <span class="token class-name">SetDialog</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>SetDialog<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backendSD <span class="token operator">=</span> <span class="token string">""</span>        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'设置'</span><span class="token punctuation">)</span>        fund_codes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        interval1 <span class="token operator">=</span> <span class="token number">10</span>        fzkey <span class="token operator">=</span> <span class="token number">0</span>        fzval <span class="token operator">=</span> <span class="token number">0.3</span>        fzfh <span class="token operator">=</span> <span class="token number">0</span>        display_type <span class="token operator">=</span> <span class="token number">0</span>        display_num <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>setWindowFlags<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>FramelessWindowHint<span class="token punctuation">)</span>        <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getsize<span class="token punctuation">(</span><span class="token string">'db.pkl'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>            pkl_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.pkl'</span><span class="token punctuation">,</span> <span class="token string">'rb+'</span><span class="token punctuation">)</span>            fund_codes<span class="token punctuation">,</span> interval1<span class="token punctuation">,</span> fzkey<span class="token punctuation">,</span> fzval<span class="token punctuation">,</span> fzfh<span class="token punctuation">,</span> display_type<span class="token punctuation">,</span> display_num <span class="token operator">=</span> pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span>pkl_file<span class="token punctuation">)</span>            pkl_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># -------- 更新时间</span>        self<span class="token punctuation">.</span>interval <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>interval<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"刷新时间:"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>interval<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_settings<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>setWindowIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>val <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>val<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>interval1<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"s"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>val<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">185</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sld <span class="token operator">=</span> QSlider<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>Horizontal<span class="token punctuation">,</span> self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sld<span class="token punctuation">.</span>setMinimum<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sld<span class="token punctuation">.</span>setMaximum<span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sld<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>interval1<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sld<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sld<span class="token punctuation">.</span>valueChanged<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changevalue<span class="token punctuation">)</span>        <span class="token comment"># --------基金列表操作</span>        self<span class="token punctuation">.</span>fundlist <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fundlist<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"基金列表:"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fundlist<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>listView <span class="token operator">=</span> QListWidget<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>setVerticalScrollBarPolicy<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>ScrollBarAlwaysOff<span class="token punctuation">)</span>        <span class="token keyword">for</span> code <span class="token keyword">in</span> fund_codes<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>code<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>total_label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>total_label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"总数: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>total_label<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>total_label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color: blue;font-size:10px"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>code <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"基金代码"</span><span class="token punctuation">)</span>        reg <span class="token operator">=</span> QRegExp<span class="token punctuation">(</span><span class="token string">'[0-9]{6}$'</span><span class="token punctuation">)</span>        validator <span class="token operator">=</span> QRegExpValidator<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        validator<span class="token punctuation">.</span>setRegExp<span class="token punctuation">(</span>reg<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>setValidator<span class="token punctuation">(</span>validator<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minus <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_minus<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minus<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minus<span class="token punctuation">.</span>setIconSize<span class="token punctuation">(</span>QSize<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置icon大小</span>        self<span class="token punctuation">.</span>minus<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minus<span class="token punctuation">.</span>setFlat<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minus<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>minus_fund<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>plus <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_plus<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>plus<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>plus<span class="token punctuation">.</span>setIconSize<span class="token punctuation">(</span>QSize<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>plus<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">185</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>plus<span class="token punctuation">.</span>setFlat<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>plus<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>add_fund<span class="token punctuation">)</span>        <span class="token comment"># --- 设置提醒功能</span>        self<span class="token punctuation">.</span>btnclock <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_clock<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btnclock<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btnclock<span class="token punctuation">.</span>setFlat<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btnclock<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>remind <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>remind<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"提醒:"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>remind<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb <span class="token operator">=</span> QComboBox<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb<span class="token punctuation">.</span>addItems<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'单位净值'</span><span class="token punctuation">,</span> <span class="token string">'估算净值'</span><span class="token punctuation">,</span> <span class="token string">'估算涨幅'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb<span class="token punctuation">.</span>setCurrentIndex<span class="token punctuation">(</span>fzkey<span class="token punctuation">)</span>        <span class="token comment"># 'QWidget{background-color:rgb(0,0,0)}'</span>        self<span class="token punctuation">.</span>cb<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span>"QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>drop<span class="token operator">-</span>down<span class="token punctuation">{</span>border<span class="token punctuation">:</span>none<span class="token punctuation">;</span>background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token punctuation">}</span>\                              QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>down<span class="token operator">-</span>arrows<span class="token punctuation">{</span>border<span class="token punctuation">:</span>none<span class="token punctuation">;</span> background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span><span class="token punctuation">}</span>\                              QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>down<span class="token operator">-</span>arrow<span class="token punctuation">:</span>pressed <span class="token punctuation">{</span> background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token punctuation">}</span>"<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb1 <span class="token operator">=</span> QComboBox<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb1<span class="token punctuation">.</span>addItems<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'&gt;='</span><span class="token punctuation">,</span> <span class="token string">'&lt;='</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb1<span class="token punctuation">.</span>setCurrentIndex<span class="token punctuation">(</span>fzfh<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb1<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span>"QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>drop<span class="token operator">-</span>down<span class="token punctuation">{</span>border<span class="token punctuation">:</span>none<span class="token punctuation">;</span>background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token punctuation">}</span>\                                      QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>down<span class="token operator">-</span>arrows<span class="token punctuation">{</span>border<span class="token punctuation">:</span>none<span class="token punctuation">;</span> background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span><span class="token punctuation">}</span>\                                      QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>down<span class="token operator">-</span>arrow<span class="token punctuation">:</span>pressed <span class="token punctuation">{</span> background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token punctuation">}</span>"<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb1<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fz <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fz<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"阈值"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fz<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>fzval<span class="token punctuation">)</span><span class="token punctuation">)</span>        reg <span class="token operator">=</span> QRegExp<span class="token punctuation">(</span><span class="token string">'^(\-|\+)?\d+(\.\d+)?$'</span><span class="token punctuation">)</span>        validator <span class="token operator">=</span> QRegExpValidator<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        validator<span class="token punctuation">.</span>setRegExp<span class="token punctuation">(</span>reg<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fz<span class="token punctuation">.</span>setValidator<span class="token punctuation">(</span>validator<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fz<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btndisplay <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_monitor<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btndisplay<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btndisplay<span class="token punctuation">.</span>setFlat<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btndisplay<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>display <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>display<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"显示:"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>display<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_type <span class="token operator">=</span> QComboBox<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>addItems<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'热搜'</span><span class="token punctuation">,</span> <span class="token string">'基金'</span><span class="token punctuation">,</span> <span class="token string">'电影'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>setCurrentIndex<span class="token punctuation">(</span>display_type<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span>"QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>drop<span class="token operator">-</span>down<span class="token punctuation">{</span>border<span class="token punctuation">:</span>none<span class="token punctuation">;</span>background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token punctuation">}</span>\                                      QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>down<span class="token operator">-</span>arrows<span class="token punctuation">{</span>border<span class="token punctuation">:</span>none<span class="token punctuation">;</span> background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span><span class="token punctuation">}</span>\                                      QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>down<span class="token operator">-</span>arrow<span class="token punctuation">:</span>pressed <span class="token punctuation">{</span> background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token punctuation">}</span>"<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>currentIndexChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>selectionchange<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>display0 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>display0<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"条数:"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>display0<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_num <span class="token operator">=</span> QComboBox<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>addItems<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token string">'15'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>setCurrentIndex<span class="token punctuation">(</span>display_num<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span>"QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>drop<span class="token operator">-</span>down<span class="token punctuation">{</span>border<span class="token punctuation">:</span>none<span class="token punctuation">;</span>background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token punctuation">}</span>\                                              QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>down<span class="token operator">-</span>arrows<span class="token punctuation">{</span>border<span class="token punctuation">:</span>none<span class="token punctuation">;</span> background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span><span class="token punctuation">}</span>\                                              QComboBox<span class="token punctuation">:</span><span class="token punctuation">:</span>down<span class="token operator">-</span>arrow<span class="token punctuation">:</span>pressed <span class="token punctuation">{</span> background<span class="token punctuation">:</span> transparent<span class="token punctuation">;</span> <span class="token punctuation">}</span>"<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>currentText<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"基金"</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>hide<span class="token punctuation">(</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>display0<span class="token punctuation">.</span>hide<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>currentText<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"热搜"</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>display0<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'保存'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>  <span class="token comment"># 设置按钮和按钮名称</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_disk<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>  <span class="token comment"># 前面是按钮左上角坐标，后面是按钮大小</span>        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>slot_btn_function<span class="token punctuation">)</span>  <span class="token comment"># 将信号连接到槽</span>        self<span class="token punctuation">.</span>btnclose <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'关闭'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>  <span class="token comment"># 设置按钮和按钮名称</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_logout<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btnclose<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>btnclose<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>  <span class="token comment"># 前面是按钮左上角坐标，后面是按钮大小</span>        self<span class="token punctuation">.</span>btnclose<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>close_setting<span class="token punctuation">)</span>  <span class="token comment"># 将信号连接到槽</span>    <span class="token keyword">def</span> <span class="token function">close_setting</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">selectionchange</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>currentText<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"基金"</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>hide<span class="token punctuation">(</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>display0<span class="token punctuation">.</span>hide<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>currentText<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"热搜"</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>display0<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">changevalue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>val<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"s"</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">minus_fund</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        item <span class="token operator">=</span> self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>currentItem<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>takeItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>row<span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>total_label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"总数: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">add_fund</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">9</span><span class="token punctuation">:</span>            items <span class="token operator">=</span> self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>findItems<span class="token punctuation">(</span>self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Qt<span class="token punctuation">.</span>MatchContains<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>selectedItems<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                    self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>insertItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>row<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>                self<span class="token punctuation">.</span>total_label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"总数: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                QMessageBox<span class="token punctuation">.</span>warning<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">"警告"</span><span class="token punctuation">,</span> <span class="token string">"已经添加代码为 ["</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>code<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"] 的基金"</span><span class="token punctuation">,</span> QMessageBox<span class="token punctuation">.</span>Cancel<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            QMessageBox<span class="token punctuation">.</span>warning<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">"警告"</span><span class="token punctuation">,</span> <span class="token string">"目前只能添加九只基金！"</span><span class="token punctuation">,</span> QMessageBox<span class="token punctuation">.</span>Cancel<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">slot_btn_function</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># print(self.sld.value())</span>        widgetres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># 获取listwidget中条目数</span>        count <span class="token operator">=</span> self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># 遍历listwidget中的内容</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">:</span>            widgetres<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>listView<span class="token punctuation">.</span>item<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># print(widgetres)</span>        self<span class="token punctuation">.</span>backendSD<span class="token punctuation">.</span>set_fundCodes<span class="token punctuation">(</span>widgetres<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backendSD<span class="token punctuation">.</span>set_interval<span class="token punctuation">(</span>self<span class="token punctuation">.</span>sld<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backendSD<span class="token punctuation">.</span>set_fzkey<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cb<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backendSD<span class="token punctuation">.</span>set_fzfh<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cb1<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backendSD<span class="token punctuation">.</span>set_fzval<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fz<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backendSD<span class="token punctuation">.</span>set_display_type<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backendSD<span class="token punctuation">.</span>set_display_num<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        pickle_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.pkl'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span>        pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span><span class="token punctuation">(</span>widgetres<span class="token punctuation">,</span> self<span class="token punctuation">.</span>sld<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                     self<span class="token punctuation">.</span>cb<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                     self<span class="token punctuation">.</span>fz<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                     self<span class="token punctuation">.</span>cb1<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                     self<span class="token punctuation">.</span>cb_type<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                     self<span class="token punctuation">.</span>cb_num<span class="token punctuation">.</span>currentIndex<span class="token punctuation">(</span><span class="token punctuation">)</span>                     <span class="token punctuation">)</span><span class="token punctuation">,</span> pickle_file<span class="token punctuation">)</span>        pickle_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">AboutDialog</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>AboutDialog<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">265</span><span class="token punctuation">,</span> <span class="token number">190</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'关于'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>border_width <span class="token operator">=</span> <span class="token number">8</span>        self<span class="token punctuation">.</span>setAttribute<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>WA_TranslucentBackground<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>setWindowFlags<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>FramelessWindowHint <span class="token operator">|</span> Qt<span class="token punctuation">.</span>Window<span class="token punctuation">)</span>        label0 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        label0<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>        label0<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>        label0<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"基金/热搜看板"</span><span class="token punctuation">)</span>        label0<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color:blue;font-size:18px;font-weight:bold;background: rgba(0,0,0,0.1);"</span><span class="token punctuation">)</span>        label1 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignLeft<span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"  这是一个能在任务栏即时查看基金变化的插件，能够添监控九只基金。当然也可以更多，代码中可以自己修改。"</span>                       <span class="token string">"可以设置阈值，当达到阈值是会有弹窗提醒，可以修改更新时间，增加删除相关基金等等"</span>                       <span class="token string">"同时也能够查看当前热搜"</span><span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setWordWrap<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        label2 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        label2<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>        label2<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>        label2<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"作者：彤爸比"</span><span class="token punctuation">)</span>        label3 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">147</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color:blue;font-size:12px;font-weight:bold;"</span><span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"&lt;a style='color: red; text-decoration: none' href=https://www.wangxingyang.com&gt;https://www.wangxingyang.com"</span><span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setOpenExternalLinks<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        about_close <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'关闭'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>  <span class="token comment"># 设置按钮和按钮名称</span>        about_close<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color: transparent"</span><span class="token punctuation">)</span>        about_close<span class="token punctuation">.</span>setCursor<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>PointingHandCursor<span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_logout<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        about_close<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">)</span>        about_close<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>  <span class="token comment"># 前面是按钮左上角坐标，后面是按钮大小</span>        about_close<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>close_about<span class="token punctuation">)</span>  <span class="token comment"># 将信号连接到槽</span>    <span class="token keyword">def</span> <span class="token function">paintEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># 阴影</span>        path <span class="token operator">=</span> QPainterPath<span class="token punctuation">(</span><span class="token punctuation">)</span>        path<span class="token punctuation">.</span>setFillRule<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>WindingFill<span class="token punctuation">)</span>        bg_color <span class="token operator">=</span> QColor<span class="token punctuation">(</span><span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span>        pat <span class="token operator">=</span> QPainter<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        pat<span class="token punctuation">.</span>setRenderHint<span class="token punctuation">(</span>pat<span class="token punctuation">.</span>Antialiasing<span class="token punctuation">)</span>        pat<span class="token punctuation">.</span>fillPath<span class="token punctuation">(</span>path<span class="token punctuation">,</span> QBrush<span class="token punctuation">(</span>bg_color<span class="token punctuation">)</span><span class="token punctuation">)</span>        color <span class="token operator">=</span> QColor<span class="token punctuation">(</span><span class="token number">192</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            i_path <span class="token operator">=</span> QPainterPath<span class="token punctuation">(</span><span class="token punctuation">)</span>            i_path<span class="token punctuation">.</span>setFillRule<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>WindingFill<span class="token punctuation">)</span>            ref <span class="token operator">=</span> QRectF<span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">,</span> <span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">,</span> self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>            <span class="token comment"># i_path.addRect(ref)</span>            i_path<span class="token punctuation">.</span>addRoundedRect<span class="token punctuation">(</span>ref<span class="token punctuation">,</span> self<span class="token punctuation">.</span>border_width<span class="token punctuation">,</span> self<span class="token punctuation">.</span>border_width<span class="token punctuation">)</span>            color<span class="token punctuation">.</span>setAlpha<span class="token punctuation">(</span><span class="token number">150</span> <span class="token operator">-</span> i <span class="token operator">**</span> <span class="token number">0.5</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span>            pat<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>color<span class="token punctuation">)</span>            pat<span class="token punctuation">.</span>drawPath<span class="token punctuation">(</span>i_path<span class="token punctuation">)</span>        <span class="token comment"># 圆角</span>        pat2 <span class="token operator">=</span> QPainter<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        pat2<span class="token punctuation">.</span>setRenderHint<span class="token punctuation">(</span>pat2<span class="token punctuation">.</span>Antialiasing<span class="token punctuation">)</span>  <span class="token comment"># 抗锯齿</span>        <span class="token comment">#pat2.setBrush(Qt.white)</span>        <span class="token comment">#pat2.setPen(Qt.transparent)</span>        pat2<span class="token punctuation">.</span>setBrush<span class="token punctuation">(</span>bg_color<span class="token punctuation">)</span>        pat2<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>bg_color<span class="token punctuation">)</span>        rect <span class="token operator">=</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">(</span><span class="token punctuation">)</span>        rect<span class="token punctuation">.</span>setLeft<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>        rect<span class="token punctuation">.</span>setTop<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>        rect<span class="token punctuation">.</span>setWidth<span class="token punctuation">(</span>rect<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">)</span>        rect<span class="token punctuation">.</span>setHeight<span class="token punctuation">(</span>rect<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">)</span>        pat2<span class="token punctuation">.</span>drawRoundedRect<span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">close_about</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">TaskWidget</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>    fzdcit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'dwjz'</span><span class="token punctuation">:</span> <span class="token string">"单位净值"</span><span class="token punctuation">,</span> <span class="token string">'gsz'</span><span class="token punctuation">:</span> <span class="token string">"估算净值"</span><span class="token punctuation">,</span> <span class="token string">'gszzl'</span><span class="token punctuation">:</span> <span class="token string">'估算涨幅'</span><span class="token punctuation">}</span>    refresh_count <span class="token operator">=</span> <span class="token number">0</span>    tb_width <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"开始 初始化任务栏小组件"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>setWindowFlags<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>WindowStaysOnTopHint <span class="token operator">|</span> Qt<span class="token punctuation">.</span>FramelessWindowHint<span class="token punctuation">)</span>        m_hTaskbar <span class="token operator">=</span> win32gui<span class="token punctuation">.</span>FindWindow<span class="token punctuation">(</span><span class="token string">"Shell_TrayWnd"</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>        m_hBar <span class="token operator">=</span> win32gui<span class="token punctuation">.</span>FindWindowEx<span class="token punctuation">(</span>m_hTaskbar<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"ReBarWindow32"</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>        m_hMin <span class="token operator">=</span> win32gui<span class="token punctuation">.</span>FindWindowEx<span class="token punctuation">(</span>m_hBar<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"MSTaskSwWClass"</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>        b <span class="token operator">=</span> win32gui<span class="token punctuation">.</span>GetWindowRect<span class="token punctuation">(</span>m_hBar<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        win32gui<span class="token punctuation">.</span>MoveWindow<span class="token punctuation">(</span>m_hMin<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">300</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>        win32gui<span class="token punctuation">.</span>SetParent<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>winId<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m_hBar<span class="token punctuation">)</span>        <span class="token comment"># WndProcType = ctypes.WINFUNCTYPE(ctypes.c_int, ctypes.c_long, ctypes.c_int, ctypes.c_int, ctypes.c_int)</span>        <span class="token comment"># GWL_WNDPROC = -4</span>        <span class="token comment"># oldWndProc = win32gui.SetWindowLong(m_hBar, win32con.GWL_WNDPROC, self.MyWndProc)</span>        <span class="token comment"># ctypes.windll.user32.SetWindowLongW(m_hBar, GWL_WNDPROC, WndProcType(self.MyWndProc))</span>        self<span class="token punctuation">.</span>setContextMenuPolicy<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>CustomContextMenu<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>customContextMenuRequested<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>create_rightmenu<span class="token punctuation">)</span>  <span class="token comment"># 连接到菜单显示函数</span>        label1 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignLeft <span class="token operator">|</span> Qt<span class="token punctuation">.</span>AlignVCenter<span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"label1"</span><span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Loading....."</span><span class="token punctuation">)</span>        label1<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span><span class="token string">"Loading....."</span><span class="token punctuation">)</span>        labelimg1 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        labelimg1<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter <span class="token operator">|</span> Qt<span class="token punctuation">.</span>AlignVCenter<span class="token punctuation">)</span>        labelimg1<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"labelimg1"</span><span class="token punctuation">)</span>        labelimg1<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>        png_data <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_up<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>png_data<span class="token punctuation">)</span>        labelimg1<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pix<span class="token punctuation">)</span>        labelimg1<span class="token punctuation">.</span>setScaledContents<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        label2 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        label2<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignLeft <span class="token operator">|</span> Qt<span class="token punctuation">.</span>AlignVCenter<span class="token punctuation">)</span>        label2<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"label2"</span><span class="token punctuation">)</span>        label2<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>        label2<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Loading....."</span><span class="token punctuation">)</span>        label2<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span><span class="token string">"Loading....."</span><span class="token punctuation">)</span>        labelimg2 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        labelimg2<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter <span class="token operator">|</span> Qt<span class="token punctuation">.</span>AlignVCenter<span class="token punctuation">)</span>        labelimg2<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"labelimg2"</span><span class="token punctuation">)</span>        labelimg2<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>        png_data <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_up<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>png_data<span class="token punctuation">)</span>        labelimg2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pix<span class="token punctuation">)</span>        labelimg2<span class="token punctuation">.</span>setScaledContents<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        label3 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignLeft <span class="token operator">|</span> Qt<span class="token punctuation">.</span>AlignVCenter<span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"label3"</span><span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Loading....."</span><span class="token punctuation">)</span>        label3<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span><span class="token string">"Loading....."</span><span class="token punctuation">)</span>        labelimg3 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        labelimg3<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token operator">|</span> Qt<span class="token punctuation">.</span>AlignVCenter<span class="token punctuation">)</span>        labelimg3<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"labelimg3"</span><span class="token punctuation">)</span>        labelimg3<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>        png_data <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_up<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>png_data<span class="token punctuation">)</span>        labelimg3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pix<span class="token punctuation">)</span>        labelimg3<span class="token punctuation">.</span>setScaledContents<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        labelweather <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        labelweather<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter <span class="token operator">|</span> Qt<span class="token punctuation">.</span>AlignVCenter<span class="token punctuation">)</span>        labelweather<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"labelweather"</span><span class="token punctuation">)</span>        labelweather<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>        <span class="token comment"># labelweather.setStyleSheet('background-color: #ebedee')</span>        png_data <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_loading<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>png_data<span class="token punctuation">)</span>        labelweather<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pix<span class="token punctuation">)</span>        <span class="token comment"># movie = QMovie('img/loading.gif')</span>        <span class="token comment"># labelweather.setMovie(movie)</span>        <span class="token comment"># movie.start()</span>        labelweather<span class="token punctuation">.</span>setScaledContents<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>        <span class="token comment"># label4 = QLabel(self)</span>        <span class="token comment"># label4.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)</span>        <span class="token comment"># label4.setObjectName("label4")</span>        <span class="token comment"># label4.setGeometry(260, 30, 40, 10)</span>        <span class="token comment"># label4.setText("20  30")</span>        self<span class="token punctuation">.</span>groupBox_menu <span class="token operator">=</span> QMenu<span class="token punctuation">(</span>self<span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_info<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>actionC <span class="token operator">=</span> QAction<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">u'关于'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_settings<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>actionA <span class="token operator">=</span> QAction<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">u'设置'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>        pngData <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_logout<span class="token punctuation">)</span>        pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>        pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>pngData<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>actionB <span class="token operator">=</span> QAction<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">u'退出程序'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>thread <span class="token operator">=</span> QThread<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backend <span class="token operator">=</span> BackendThread<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backend<span class="token punctuation">.</span>update_date<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>handleDisplay<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backend<span class="token punctuation">.</span>moveToThread<span class="token punctuation">(</span>self<span class="token punctuation">.</span>thread<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>thread<span class="token punctuation">.</span>started<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>backend<span class="token punctuation">.</span>run<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"结束 初始化任务栏小组件"</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">MyWndProc</span><span class="token punctuation">(</span>hwnd<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># wParam 值为鼠标按键的信息，而 lParam 则储存鼠标的坐标</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">exitapp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        app <span class="token operator">=</span> QApplication<span class="token punctuation">.</span>instance<span class="token punctuation">(</span><span class="token punctuation">)</span>        app<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">setting</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>settingDialog <span class="token operator">=</span> SetDialog<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>settingDialog<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>settingDialog<span class="token punctuation">.</span>backendSD <span class="token operator">=</span> self<span class="token punctuation">.</span>backend    <span class="token keyword">def</span> <span class="token function">aboutme</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>about_dialog <span class="token operator">=</span> AboutDialog<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>about_dialog<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">create_rightmenu</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment">#print("create_rightmenu")</span>        <span class="token comment">#self.actionA.setShortcut('Ctrl+S')  # 设置快捷键</span>        self<span class="token punctuation">.</span>groupBox_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>self<span class="token punctuation">.</span>actionA<span class="token punctuation">)</span>  <span class="token comment"># 基金列表</span>        self<span class="token punctuation">.</span>groupBox_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>self<span class="token punctuation">.</span>actionC<span class="token punctuation">)</span>  <span class="token comment"># 基金列表</span>        self<span class="token punctuation">.</span>groupBox_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>self<span class="token punctuation">.</span>actionB<span class="token punctuation">)</span>  <span class="token comment"># 更新频率</span>        self<span class="token punctuation">.</span>actionA<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>setting<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>actionB<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>exitapp<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>actionC<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>aboutme<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>groupBox_menu<span class="token punctuation">.</span>popup<span class="token punctuation">(</span>QCursor<span class="token punctuation">.</span>pos<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">changeContent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> timer<span class="token punctuation">)</span><span class="token punctuation">:</span>        toast <span class="token operator">=</span> Toast<span class="token punctuation">(</span>text<span class="token operator">=</span>text<span class="token punctuation">,</span> duration<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>        toast<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>        toast<span class="token punctuation">.</span>setPosition<span class="token punctuation">(</span>QPoint<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">90</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        timer<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>        timer<span class="token punctuation">.</span>deleteLater<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">display_fund</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"开始 更新基金信息"</span><span class="token punctuation">)</span>        num <span class="token operator">=</span> <span class="token number">0</span>        timeTick <span class="token operator">=</span> <span class="token number">0</span>        jsonDatas <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"status"</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">"ok"</span><span class="token punctuation">:</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                label <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>                label<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignLeft<span class="token punctuation">)</span>                label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>jsonDatas<span class="token punctuation">[</span><span class="token string">"msg"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'color: blue'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span>        fzkey <span class="token operator">=</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"reminder"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"fzkey"</span><span class="token punctuation">]</span>        fzval <span class="token operator">=</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"reminder"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"fzval"</span><span class="token punctuation">]</span>        fzfh <span class="token operator">=</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"reminder"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"fzfh"</span><span class="token punctuation">]</span>        auname <span class="token operator">=</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"reference"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"AU9999"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span>        auprice <span class="token operator">=</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"reference"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"AU9999"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"price"</span><span class="token punctuation">]</span>        shname <span class="token operator">=</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"reference"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"SH000001"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span>        shprice <span class="token operator">=</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"reference"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"SH000001"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"price"</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> jsonData <span class="token keyword">in</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            label <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            labelimg <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelimg"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignLeft<span class="token punctuation">)</span>            gszzl <span class="token operator">=</span> jsonData<span class="token punctuation">[</span><span class="token string">'gszzl'</span><span class="token punctuation">]</span>            fundcode <span class="token operator">=</span> jsonData<span class="token punctuation">[</span><span class="token string">'fundcode'</span><span class="token punctuation">]</span>            name <span class="token operator">=</span> jsonData<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>            dwjz <span class="token operator">=</span> jsonData<span class="token punctuation">[</span><span class="token string">'dwjz'</span><span class="token punctuation">]</span>            gsz <span class="token operator">=</span> jsonData<span class="token punctuation">[</span><span class="token string">'gsz'</span><span class="token punctuation">]</span>            gztime <span class="token operator">=</span> jsonData<span class="token punctuation">[</span><span class="token string">'gztime'</span><span class="token punctuation">]</span>            <span class="token keyword">if</span> fzfh <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> <span class="token builtin">float</span><span class="token punctuation">(</span>jsonData<span class="token punctuation">[</span>fzkey<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>fzval<span class="token punctuation">)</span><span class="token punctuation">:</span>                    msgtext <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">" | 基金"</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>fzdcit<span class="token punctuation">[</span>fzkey<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"涨到阈值[ "</span> <span class="token operator">+</span> fzval <span class="token operator">+</span> <span class="token string">" ]了！"</span>                    timer <span class="token operator">=</span> QTimer<span class="token punctuation">(</span><span class="token punctuation">)</span>                    timer<span class="token punctuation">.</span>timeout<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>partial<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeContent<span class="token punctuation">,</span> msgtext<span class="token punctuation">,</span> timer<span class="token punctuation">)</span><span class="token punctuation">)</span>                    timer<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token number">3000</span> <span class="token operator">*</span> <span class="token builtin">int</span><span class="token punctuation">(</span>timeTick<span class="token punctuation">)</span><span class="token punctuation">)</span>                    timeTick <span class="token operator">=</span> timeTick <span class="token operator">+</span> <span class="token number">1</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> <span class="token builtin">float</span><span class="token punctuation">(</span>jsonData<span class="token punctuation">[</span>fzkey<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>fzval<span class="token punctuation">)</span><span class="token punctuation">:</span>                    msgtext <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">" | 基金"</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>fzdcit<span class="token punctuation">[</span>fzkey<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"跌到阈值[ "</span> <span class="token operator">+</span> fzval <span class="token operator">+</span> <span class="token string">" ]了！"</span>                    timer <span class="token operator">=</span> QTimer<span class="token punctuation">(</span><span class="token punctuation">)</span>                    timer<span class="token punctuation">.</span>timeout<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>partial<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeContent<span class="token punctuation">,</span> msgtext<span class="token punctuation">,</span> timer<span class="token punctuation">)</span><span class="token punctuation">)</span>                    timer<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token number">3000</span> <span class="token operator">*</span> <span class="token builtin">int</span><span class="token punctuation">(</span>timeTick<span class="token punctuation">)</span><span class="token punctuation">)</span>                    timeTick <span class="token operator">=</span> timeTick <span class="token operator">+</span> <span class="token number">1</span>            tmp_str <span class="token operator">=</span> gszzl <span class="token keyword">if</span> <span class="token builtin">float</span><span class="token punctuation">(</span>gszzl<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">"+"</span> <span class="token operator">+</span> gszzl            label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>tmp_str <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> fundcode <span class="token operator">+</span> <span class="token string">" - "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span>auname <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>auprice<span class="token punctuation">)</span> <span class="token operator">+</span>                             <span class="token string">"\n"</span> <span class="token operator">+</span> shname <span class="token operator">+</span> <span class="token string">"  : "</span> <span class="token operator">+</span> shprice <span class="token operator">+</span>                             <span class="token string">"\n----------------------------"</span> <span class="token operator">+</span>                             <span class="token string">"\n"</span> <span class="token operator">+</span> fundcode <span class="token operator">+</span> <span class="token string">" - "</span> <span class="token operator">+</span> name <span class="token operator">+</span>                             <span class="token string">"\n单位净值: "</span> <span class="token operator">+</span> dwjz <span class="token operator">+</span>                             <span class="token string">"\n净值估算: "</span> <span class="token operator">+</span> gsz <span class="token operator">+</span>                             <span class="token string">"\n估算涨幅: "</span> <span class="token operator">+</span> gszzl <span class="token operator">+</span>                             <span class="token string">"\n更新日期: "</span> <span class="token operator">+</span> gztime<span class="token punctuation">)</span>            gsz <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>gszzl<span class="token punctuation">)</span>            text_color <span class="token operator">=</span> label<span class="token punctuation">.</span>palette<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>windowText<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>color<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># print(text_color)</span>            pix <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> gsz <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># and text_color != "#008000"</span>                <span class="token comment"># print("&lt; update...")</span>                png_data <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_down<span class="token punctuation">)</span>                label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'color: green'</span><span class="token punctuation">)</span>                pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>png_data<span class="token punctuation">)</span>                labelimg<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pix<span class="token punctuation">)</span>            <span class="token keyword">if</span> gsz <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># and text_color != "#ff0000"</span>                <span class="token comment"># print("&gt;= update...")</span>                png_data <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_up<span class="token punctuation">)</span>                label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'color: red'</span><span class="token punctuation">)</span>                pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>png_data<span class="token punctuation">)</span>                labelimg<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pix<span class="token punctuation">)</span>            labelimg<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background: transparent;"</span><span class="token punctuation">)</span>            num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            label <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            labelimg <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelimg"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            png_data <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span>img_pig<span class="token punctuation">)</span>            pix<span class="token punctuation">.</span>loadFromData<span class="token punctuation">(</span>png_data<span class="token punctuation">)</span>            labelimg<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pix<span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"去设置添加基金...."</span><span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'color: black'</span><span class="token punctuation">)</span>            labelimg<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background: transparent;"</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"结束 更新基金信息"</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">display_hot</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"开始 更新微博热搜"</span><span class="token punctuation">)</span>        num <span class="token operator">=</span> <span class="token number">0</span>        jsonDatas <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"status"</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">"ok"</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">for</span> jsonData <span class="token keyword">in</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            label <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            labelimg <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelimg"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignLeft<span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setOpenExternalLinks<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>            show_text <span class="token operator">=</span> <span class="token string">"&lt;a style='color: red; text-decoration: none' href='https://s.weibo.com/weibo?q="</span> <span class="token operator">+</span> quote<span class="token punctuation">(</span>jsonData<span class="token punctuation">[</span><span class="token string">"word_scheme"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"'&gt;"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>jsonData<span class="token punctuation">[</span><span class="token string">"realpos"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">". "</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"word"</span><span class="token punctuation">]</span>            label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>show_text<span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token string">"icon_desc"</span> <span class="token keyword">in</span> jsonData <span class="token keyword">and</span> <span class="token string">"icon_desc_color"</span> <span class="token keyword">in</span> jsonData<span class="token punctuation">:</span>                labelimg<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>jsonData<span class="token punctuation">[</span><span class="token string">"icon_desc"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                labelimg<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span>jsonData<span class="token punctuation">[</span><span class="token string">"icon_desc"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                labelimg<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background: "</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"icon_desc_color"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">";font-size: 11px;border-radius:3px;"</span><span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                labelimg<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>                labelimg<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background: transparent;font-size: 11px;border-radius:3px;"</span><span class="token punctuation">)</span>            num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"结束 更新微博热搜"</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">display_movie</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"开始 更新电影信息"</span><span class="token punctuation">)</span>        num <span class="token operator">=</span> <span class="token number">0</span>        jsonDatas <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"status"</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">"ok"</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">for</span> jsonData <span class="token keyword">in</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            label <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            labelimg <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelimg"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignLeft<span class="token punctuation">)</span>            label<span class="token punctuation">.</span>setOpenExternalLinks<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>            show_text <span class="token operator">=</span> <span class="token string">"&lt;a style='color: red; text-decoration: none' href='"</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"videourl"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"'&gt;"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>                jsonData<span class="token punctuation">[</span><span class="token string">"sc"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"nm"</span><span class="token punctuation">]</span>            label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>show_text<span class="token punctuation">)</span>            tip_text <span class="token operator">=</span> <span class="token string">"片名:"</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"nm"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">"类型:"</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"cat"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">""</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"desc"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">"导演:"</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"dir"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">"上映:"</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"pubDesc"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">"明星:"</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"star"</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">"信息:"</span> <span class="token operator">+</span> jsonData<span class="token punctuation">[</span><span class="token string">"boxInfo"</span><span class="token punctuation">]</span>            label<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span>tip_text<span class="token punctuation">)</span>            url <span class="token operator">=</span> jsonData<span class="token punctuation">[</span><span class="token string">"img"</span><span class="token punctuation">]</span>            res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>            img <span class="token operator">=</span> QImage<span class="token punctuation">.</span>fromData<span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">)</span>            labelimg<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>QPixmap<span class="token punctuation">.</span>fromImage<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment"># labelimg.setText(" ")</span>            <span class="token comment"># labelimg.setStyleSheet("background: transparent;font-size: 11px;border-radius:3px;")</span>            num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"结束 更新电影信息"</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">display_weather</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># http://www.nmc.cn/rest/position?_=1660633779937 获得地址</span>        <span class="token comment"># http://www.nmc.cn/rest/weather?stationid=58238&amp;_=1660633779939 获得天气</span>        t <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>        headers <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">'Host'</span><span class="token punctuation">:</span> <span class="token string">'www.nmc.cn'</span><span class="token punctuation">,</span>            <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'http://www.nmc.cn/publish/forecast/AJS/nanjing.html'</span>        <span class="token punctuation">}</span>        apiUrl <span class="token operator">=</span> <span class="token string">"http://www.nmc.cn/rest/position?_="</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>        code <span class="token operator">=</span> <span class="token string">""</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            retjson <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>apiUrl<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>            code <span class="token operator">=</span> retjson<span class="token punctuation">[</span><span class="token string">"code"</span><span class="token punctuation">]</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'获取位置异常....'</span><span class="token punctuation">)</span>        headers <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">'Host'</span><span class="token punctuation">:</span> <span class="token string">'www.nmc.cn'</span><span class="token punctuation">,</span>            <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'http://www.nmc.cn/publish/forecast/AJS/nanjing.html'</span>        <span class="token punctuation">}</span>        apiUrl <span class="token operator">=</span> <span class="token string">"http://www.nmc.cn/rest/weather?stationid="</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">"&amp;_="</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            retjson <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>apiUrl<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>            weatherjson <span class="token operator">=</span> retjson<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"real"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"weather"</span><span class="token punctuation">]</span>            img <span class="token operator">=</span> weatherjson<span class="token punctuation">[</span><span class="token string">"img"</span><span class="token punctuation">]</span>            img_url <span class="token operator">=</span> <span class="token string">"http://image.nmc.cn/assets/img/w/40x40/4/"</span> <span class="token operator">+</span> img <span class="token operator">+</span> <span class="token string">".png"</span>            res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>img_url<span class="token punctuation">)</span>            img <span class="token operator">=</span> QImage<span class="token punctuation">.</span>fromData<span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">)</span>            labelimg <span class="token operator">=</span> self<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelweather"</span><span class="token punctuation">)</span>            tip_text <span class="token operator">=</span> <span class="token string">"天气: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>weatherjson<span class="token punctuation">[</span><span class="token string">"info"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">"温度: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>weatherjson<span class="token punctuation">[</span><span class="token string">"temperature"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">"湿度: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>weatherjson<span class="token punctuation">[</span><span class="token string">"humidity"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> \                       <span class="token string">"体感: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>weatherjson<span class="token punctuation">[</span><span class="token string">"feelst"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            alert <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>retjson<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"real"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"warn"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"alert"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token string">"warn"</span> <span class="token keyword">in</span> retjson<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"real"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> <span class="token string">"9999"</span> <span class="token operator">!=</span> alert<span class="token punctuation">:</span>                    tip_text <span class="token operator">=</span> tip_text <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> <span class="token string">"预警: "</span> <span class="token operator">+</span> alert            tip_text <span class="token operator">=</span> tip_text <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> <span class="token string">"更新时间: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>retjson<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"real"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"publish_time"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            labelimg<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span>tip_text<span class="token punctuation">)</span>            labelimg<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>QPixmap<span class="token punctuation">.</span>fromImage<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'获取天气异常....'</span><span class="token punctuation">)</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">handleDisplay</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># 更新基金信息</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"    "</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"更新时间 :"</span> <span class="token operator">+</span> time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        jsonDatas <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        dispaly_type <span class="token operator">=</span> jsonDatas<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> dispaly_type <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>display_hot<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token keyword">elif</span> dispaly_type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>display_fund<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token keyword">elif</span> dispaly_type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>display_movie<span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>refresh_count <span class="token operator">%</span> <span class="token number">72</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"更新天气信息....."</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>display_weather<span class="token punctuation">(</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>refresh_count <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>refresh_count <span class="token operator">=</span> self<span class="token punctuation">.</span>refresh_count <span class="token operator">+</span> <span class="token number">1</span>        m_hTaskbar <span class="token operator">=</span> win32gui<span class="token punctuation">.</span>FindWindow<span class="token punctuation">(</span><span class="token string">"Shell_TrayWnd"</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>        m_hBar <span class="token operator">=</span> win32gui<span class="token punctuation">.</span>FindWindowEx<span class="token punctuation">(</span>m_hTaskbar<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"ReBarWindow32"</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>        b <span class="token operator">=</span> win32gui<span class="token punctuation">.</span>GetWindowRect<span class="token punctuation">(</span>m_hBar<span class="token punctuation">)</span>        <span class="token keyword">if</span> b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">!=</span> self<span class="token punctuation">.</span>tb_width <span class="token keyword">and</span> self<span class="token punctuation">.</span>tb_width <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"更新 组件位置"</span><span class="token punctuation">)</span>            m_hMin <span class="token operator">=</span> win32gui<span class="token punctuation">.</span>FindWindowEx<span class="token punctuation">(</span>m_hBar<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"MSTaskSwWClass"</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            win32gui<span class="token punctuation">.</span>MoveWindow<span class="token punctuation">(</span>m_hMin<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">300</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>tb_width <span class="token operator">=</span> b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>tb_width <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"初始化组件宽度值"</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>tb_width <span class="token operator">=</span> b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>    ex <span class="token operator">=</span> TaskWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>    ex<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-总结"><a href="#2-总结" class="headerlink" title="2.总结"></a>2.总结</h3><hr><p>整个小插件实现起来不是很麻烦，大家可以修修改改，做一个属于自己的任务栏小插件</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;之前写了一个苹果的基金净值插件，有需要的可以看看&lt;a href=&quot;https://www.wangxingyang.com/xbarfundplugin.html&quot;&gt;xbar/BitBar基金净值插件&lt;/a&gt; ，这次写了一个&lt;code&gt;Python</summary>
      
    
    
    
    <category term="工具" scheme="https://www.wangxingyang.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="基金" scheme="https://www.wangxingyang.com/tags/%E5%9F%BA%E9%87%91/"/>
    
    <category term="任务栏" scheme="https://www.wangxingyang.com/tags/%E4%BB%BB%E5%8A%A1%E6%A0%8F/"/>
    
  </entry>
  
</feed>
