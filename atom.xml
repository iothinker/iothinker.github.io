<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>宁静致远</title>
  
  <subtitle>静心整理/分享生活</subtitle>
  <link href="https://www.wangxingyang.com/atom.xml" rel="self"/>
  
  <link href="https://www.wangxingyang.com/"/>
  <updated>2022-04-14T02:40:11.132Z</updated>
  <id>https://www.wangxingyang.com/</id>
  
  <author>
    <name>彤爸比</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>打开两码捷径</title>
    <link href="https://www.wangxingyang.com/sharecuts-twocode.html"/>
    <image>https://pic.rmb.bdstatic.com/bjh/5ad124065cfc9fce31c67bfc1e5d1f28.jpeg</image>
    
    <id>https://www.wangxingyang.com/sharecuts-twocode.html</id>
    <published>2022-04-14T01:58:06.000Z</published>
    <updated>2022-04-14T02:40:11.132Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>疫情反复，进入各类场所都需要查验两码，每次都需要搞半天才能打开，今天给大家分享一下。</p></blockquote><h3 id="0-苏康码和行程码"><a href="#0-苏康码和行程码" class="headerlink" title="0.苏康码和行程码"></a>0.苏康码和行程码</h3><hr><p>捷径中是有<code>苏康码</code>的指令的，但是，这个指令不能跳转到苏康码的那个页面，所以就很尬，需要自己再点一下才行。我所攻破的就是不需要点击直接进入。</p><p>打开苏康码的URL地址：<strong>alipays://platformapi/startapp?appId=2018062060350751&amp;page=%2Fpages%2Fweb%2Fweb%3Furl%3Dhttps%3A%2F%2Fjsstm.jszwfw.gov.cn%2FjkmIndex.html</strong> </p><p><img src="https://pic.rmb.bdstatic.com/bjh/fbe8d71175a44380c2e7def85080a9a5.jpeg" alt="捷径截图"></p><p><a href="https://www.icloud.com/shortcuts/116d9468d49b4943bcffc99586075c9c">点击获得</a>捷径命令。</p><h3 id="1-敲击执行"><a href="#1-敲击执行" class="headerlink" title="1.敲击执行"></a>1.敲击执行</h3><hr><p><strong>设置-&gt;辅助功能-&gt; 触控-&gt; 轻点配置</strong> 进行设置，这边选择敲击背面3下打开。</p><p><img src="https://pic.rmb.bdstatic.com/bjh/21a1f7e120006ad941b0f749ae8ab59a.jpeg" alt="image.png"></p><h3 id="2-写在最后"><a href="#2-写在最后" class="headerlink" title="2.写在最后"></a>2.写在最后</h3><hr><p>这边只是抛砖引玉，大家可以自由发挥，实现截屏发送上传等等功能。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;疫情反复，进入各类场所都需要查验两码，每次都需要搞半天才能打开，今天给大家分享一下。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-苏康码和行程码&quot;&gt;&lt;a href=&quot;#0-苏康码和行程码&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    <category term="工具" scheme="https://www.wangxingyang.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="捷径" scheme="https://www.wangxingyang.com/tags/%E6%8D%B7%E5%BE%84/"/>
    
    <category term="苏康码" scheme="https://www.wangxingyang.com/tags/%E8%8B%8F%E5%BA%B7%E7%A0%81/"/>
    
    <category term="行程码" scheme="https://www.wangxingyang.com/tags/%E8%A1%8C%E7%A8%8B%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>佛手湖公园游玩</title>
    <link href="https://www.wangxingyang.com/dayshare220409.html"/>
    <image>https://www.wangxingyang.com/img/20220409/cover.jpeg</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220409.html</id>
    <published>2022-04-09T04:47:02.000Z</published>
    <updated>2022-04-09T13:54:30.772Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>周末很快就到了，上次假期没有玩的尽兴，所以这次准备早点过去，不然又要堵在路上进不去了。</p></blockquote><h3 id="0-早起出发"><a href="#0-早起出发" class="headerlink" title="0.早起出发"></a>0.早起出发</h3><hr><p>有了之前的教训，早早就起床了，彤彤一直想要去公园玩。起来洗漱吃个简单的早饭就出发了。到了佛手湖发现已经有很多人到了，门外已经开始排队了。那时候才9点多钟，天气好，人真的很多。还好排的队不是很长，很快就进去了。进去之后逛逛，发现外面实在是太晒了，所以就准备收拾收拾回去了，玩了大概2个小时。下面看看咱们拍的照片哈。</p><p><img src="/img/20220409/cover.jpeg" alt="佛手湖"></p><p><img src="/img/20220409/0.jpg" alt="和小老虎拍照"></p><p><img src="/img/20220409/1.jpg" alt="楼梯摆拍"></p><p><img src="/img/20220409/2.jpg" alt="楼梯摆拍"></p><p><img src="/img/20220409/3.jpg" alt="遮太阳"></p><p><img src="/img/20220409/4.jpg" alt="楼梯摆拍"></p><p><img src="/img/20220409/5.jpg" alt="咱们一起拍"></p><p><img src="/img/20220409/6.jpg" alt="楼梯摆拍"></p><p><img src="/img/20220409/7.jpg" alt="楼梯摆拍"></p><h3 id="1-回家做饭"><a href="#1-回家做饭" class="headerlink" title="1.回家做饭"></a>1.回家做饭</h3><hr><p>回家之后，买了点熟菜，彤宝我给他做了一个裙带菜鸡蛋汤，吃的很多，看着也很诱人，感觉自己的厨艺得到了肯定，哈哈。</p><p><img src="/img/20220409/8.jpeg" alt="裙带菜鸡蛋汤"></p><h3 id="2-写在最后"><a href="#2-写在最后" class="headerlink" title="2.写在最后"></a>2.写在最后</h3><hr><p>下午如果出去，继续记录。</p><h3 id="3-晚上做饭"><a href="#3-晚上做饭" class="headerlink" title="3.晚上做饭"></a>3.晚上做饭</h3><hr><p>晚上做了个龙虾🦞，还不错，老婆比较给力，吃的比较多，我昨天刚刚吃过，所以战斗力一般，放个图。</p><p><img src="/img/20220409/9.jpeg" alt="龙虾🦞"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;周末很快就到了，上次假期没有玩的尽兴，所以这次准备早点过去，不然又要堵在路上进不去了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-早起出发&quot;&gt;&lt;a href=&quot;#0-早起出发&quot; class=&quot;headerlink&quot; title=&quot;0.</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="遛娃" scheme="https://www.wangxingyang.com/tags/%E9%81%9B%E5%A8%83/"/>
    
    <category term="佛手湖" scheme="https://www.wangxingyang.com/tags/%E4%BD%9B%E6%89%8B%E6%B9%96/"/>
    
  </entry>
  
  <entry>
    <title>假日分享</title>
    <link href="https://www.wangxingyang.com/dayshare220404.html"/>
    <image>https://www.wangxingyang.com/img/20220404/cover.jpg</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220404.html</id>
    <published>2022-04-05T01:14:34.000Z</published>
    <updated>2022-04-07T03:20:11.198Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>3天的小假期，天天在家闷坏了，南京的疫情也好转了，所以准备带彤宝出去玩玩。彤彤说要出去搭帐篷，要去挖沙子。不知道能完成几个呢。</p></blockquote><h3 id="0-开车出去玩"><a href="#0-开车出去玩" class="headerlink" title="0.开车出去玩"></a>0.开车出去玩</h3><hr><p>今天开车准备去<strong>不老村</strong>玩，但是早上起的有点晚，搭帐篷估计是玩不起来了，所以就准备去那边看看，挖挖沙子。等到了之后发现，不老村闭园，不得不转战别的地方。去了附近的兰溪公园挖沙子去。下面咱们一起去看看吧。</p><p><img src="/img/20220404/0.jpg" alt="不老村闭园"></p><p>闭园了人也不少，准备掉头去兰溪公园</p><p><img src="/img/20220404/1.jpg" alt="比✌️"></p><p><img src="/img/20220404/2.jpg" alt="比✌️"></p><p><img src="/img/20220404/3.jpg" alt="抓拍"></p><p><img src="/img/20220404/4.jpg" alt="开始挖沙子"></p><p><img src="/img/20220404/5.jpg" alt="挖沙子中"></p><p><img src="/img/20220404/6.jpg" alt="挖沙子中"></p><p>沙子挖完了，就回家做披萨了，</p><p><img src="/img/20220404/11.jpg" alt="开始烤披萨🍕"></p><h3 id="1-约上小伙伴"><a href="#1-约上小伙伴" class="headerlink" title="1.约上小伙伴"></a>1.约上小伙伴</h3><hr><p>福宝又回到这边来住了，所以就约着出去一起骑滑板车，正好她买的玩具小猪也到了，迫不及待的想要玩。下面看看照片吧。</p><p><img src="/img/20220404/7.jpg" alt="准备比赛"></p><p><img src="/img/20220404/8.jpg" alt="比赛开始"></p><p><img src="/img/20220404/71.jpg" alt="牵着小猪"></p><p><img src="/img/20220404/9.jpg" alt="趴在她妈背上"></p><p><img src="/img/20220404/12.jpg" alt="扎了小辫子"></p><p><img src="/img/20220404/13.jpg" alt="扎小辫"></p><p>晚上回去做了个千层蛋糕，看起来还不错。</p><p><img src="/img/20220404/10.jpeg" alt="千层蛋糕"></p><h3 id="2-写在最后"><a href="#2-写在最后" class="headerlink" title="2.写在最后"></a>2.写在最后</h3><hr><p>彤彤真的在一天天长大，突然发现自己并不是那么的好，脾气还是得收敛收敛，好好的和她一起成长。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;3天的小假期，天天在家闷坏了，南京的疫情也好转了，所以准备带彤宝出去玩玩。彤彤说要出去搭帐篷，要去挖沙子。不知道能完成几个呢。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-开车出去玩&quot;&gt;&lt;a href=&quot;#0-开车出去玩&quot; class=</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="遛娃" scheme="https://www.wangxingyang.com/tags/%E9%81%9B%E5%A8%83/"/>
    
    <category term="美食" scheme="https://www.wangxingyang.com/tags/%E7%BE%8E%E9%A3%9F/"/>
    
  </entry>
  
  <entry>
    <title>博客发文通知</title>
    <link href="https://www.wangxingyang.com/qywechat.html"/>
    <image>https://www.wangxingyang.com/img/20220401/cover.jpg</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/qywechat.html</id>
    <published>2022-04-01T07:02:19.000Z</published>
    <updated>2022-04-01T07:44:51.698Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>之前更新关于彤宝的博客会分享给老婆，但是每次手动分享有点麻烦，所以就有了这篇文章了。</p></blockquote><h3 id="0-前期准备"><a href="#0-前期准备" class="headerlink" title="0.前期准备"></a>0.前期准备</h3><hr><ol start="0"><li>首先博客开启<strong>RSS</strong>，这个网上有很多的教程，这边就不多赘述了，放个<a href="https/img/20220401//segmentfault.com/a/1190000012647294">为hexo博客添加RSS订阅功能</a>的链接。</li><li>编写<strong>企业微信通知</strong>简单的程序，这个后面说</li><li>需要编写一个<strong>Node-RED</strong>流</li></ol><h3 id="1-开始折腾"><a href="#1-开始折腾" class="headerlink" title="1.开始折腾"></a>1.开始折腾</h3><hr><p>增加了订阅功能之后，就能够通过他来获得博客网站以及文章的信息，内容如下图所示<br><img src="/img/20220401/9ba2d8477659519542ef5aa9b9120e09.jpg" alt="RSS"><br>不过 <strong>image</strong> 这个字段是后面自己加上的，因为推送的时候想把封面也推送过去。修改的地方如下：</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># 先到刚刚安装的那个插件目录下cd blog/node_modules/hexo-generator-feed# 编辑 atom.xmlvi atom.xml <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>在图示位置，添加如下内容：</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span><span class="token punctuation">&gt;</span></span>{{ post.img | formatUrl}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/img/20220401/6970f3b3454623b0dd7fb084c7a34340.jpg" alt="添加封面图"><br>【⚠️注意】在文章的头上需要有<code>img</code>这个字段，如果你的封面是别的字段，注意更换。<br><img src="/img/20220401/da90a186843db9639554cbd91c7aa88f.jpg" alt="文章中标签"><br>到目前为止，数据已经齐活了。下面整企业微信通知的代码。这边是使用的<code>Python</code><br>代码写的比较简单，按照企业微信的逻辑来即可。这边是<a href="https/img/20220401//developer.work.weixin.qq.com/document/path/90236">官方API地址</a>照着来就行。</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">import</span> json<span class="token keyword">import</span> requests<span class="token keyword">from</span> bottle <span class="token keyword">import</span> route<span class="token punctuation">,</span> run<span class="token punctuation">,</span> request<span class="token keyword">import</span> configparser<span class="token keyword">from</span> requests <span class="token keyword">import</span> RequestException<span class="token punctuation">,</span> ReadTimeoutcfg <span class="token operator">=</span> configparser<span class="token punctuation">.</span>ConfigParser<span class="token punctuation">(</span><span class="token punctuation">)</span>cfg<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token string">'qy.ini'</span><span class="token punctuation">)</span>TOKEN_API <span class="token operator">=</span> <span class="token string">"https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=%s&amp;corpsecret=%s"</span>SEND_API <span class="token operator">=</span> <span class="token string">"https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=%s"</span><span class="token keyword">global</span> access_tokenaccess_token <span class="token operator">=</span> cfg<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'QYParam'</span><span class="token punctuation">,</span> <span class="token string">'access_token'</span><span class="token punctuation">)</span>agentid <span class="token operator">=</span> cfg<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'QYParam'</span><span class="token punctuation">,</span> <span class="token string">'agentid'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@route</span><span class="token punctuation">(</span><span class="token string">'/getToken'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># 获得企业信息</span>    <span class="token comment"># print("getToken start")</span>    corpid <span class="token operator">=</span> cfg<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'QYParam'</span><span class="token punctuation">,</span> <span class="token string">'corpid'</span><span class="token punctuation">)</span>    corpsecret <span class="token operator">=</span> cfg<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'QYParam'</span><span class="token punctuation">,</span> <span class="token string">'corpsecret'</span><span class="token punctuation">)</span>    url <span class="token operator">=</span> TOKEN_API <span class="token operator">%</span> <span class="token punctuation">(</span>corpid<span class="token punctuation">,</span> corpsecret<span class="token punctuation">)</span>    <span class="token comment"># print("url=" + str(url))</span>    ret <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">)</span>    errcode <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token string">"errcode"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> errcode <span class="token operator">==</span> <span class="token string">"0"</span><span class="token punctuation">:</span>        <span class="token keyword">global</span> access_token        access_token <span class="token operator">=</span> ret<span class="token punctuation">[</span><span class="token string">"access_token"</span><span class="token punctuation">]</span>        cfg<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">"QYParam"</span><span class="token punctuation">,</span> <span class="token string">"access_token"</span><span class="token punctuation">,</span> ret<span class="token punctuation">[</span><span class="token string">"access_token"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        cfg<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'qy.ini'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> ret<span class="token decorator annotation punctuation">@route</span><span class="token punctuation">(</span><span class="token string">'/sendMsg'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">sendmsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> SEND_API <span class="token operator">%</span> access_token    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"sendmsg url="</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>    data <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token string">"touser"</span><span class="token punctuation">:</span> <span class="token string">"xxx"</span><span class="token punctuation">,</span>        <span class="token string">"msgtype"</span><span class="token punctuation">:</span> <span class="token string">"textcard"</span><span class="token punctuation">,</span>        <span class="token string">"agentid"</span><span class="token punctuation">:</span> agentid<span class="token punctuation">,</span>        <span class="token string">"textcard"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"博客通知"</span><span class="token punctuation">,</span>            <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"&lt;div class=\"gray\"&gt;2016年9月26日&lt;/div&gt; &lt;div class=\"normal\"&gt;恭喜你抽中iPhone 7一台，领奖码：xxxx&lt;/div&gt;&lt;div class=\"highlight\"&gt;请于2016年10月10日前联系行政同事领取&lt;/div&gt;"</span><span class="token punctuation">,</span>            <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"http://www.wangxingyang.com"</span><span class="token punctuation">,</span>            <span class="token string">"btntxt"</span><span class="token punctuation">:</span> <span class="token string">"更多"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token string">"safe"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>        <span class="token string">"enable_id_trans"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>        <span class="token string">"enable_duplicate_check"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>        <span class="token string">"duplicate_check_interval"</span><span class="token punctuation">:</span> <span class="token number">1800</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">"POST"</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>    <span class="token keyword">except</span> ReadTimeout<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"Connection timeout...."</span>    <span class="token keyword">except</span> ConnectionError<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"Connection Error...."</span>    <span class="token keyword">except</span> RequestException<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"Unknown Error"</span>    ret <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>    errcode <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token string">"errcode"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> errcode <span class="token operator">==</span> <span class="token string">"42001"</span><span class="token punctuation">:</span>        <span class="token comment"># 重新获得Token</span>        getToken<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># 重新发送</span>        sendmsg<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> response<span class="token punctuation">.</span>text<span class="token decorator annotation punctuation">@route</span><span class="token punctuation">(</span><span class="token string">'/sendNewsMsg'</span><span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">'POST'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">sendNewsMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> SEND_API <span class="token operator">%</span> access_token    <span class="token comment"># print("sendmsg url=" + str(url))</span>    title <span class="token operator">=</span> request<span class="token punctuation">.</span>POST<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"latin1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>    link <span class="token operator">=</span> request<span class="token punctuation">.</span>POST<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"latin1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>    img <span class="token operator">=</span> request<span class="token punctuation">.</span>POST<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"latin1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>    summary <span class="token operator">=</span> request<span class="token punctuation">.</span>POST<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'summary'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"latin1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>    data <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span><span class="token punctuation">{</span>       <span class="token string">"touser"</span><span class="token punctuation">:</span> <span class="token string">"xxx"</span><span class="token punctuation">,</span>       <span class="token string">"msgtype"</span><span class="token punctuation">:</span> <span class="token string">"news"</span><span class="token punctuation">,</span>       <span class="token string">"agentid"</span><span class="token punctuation">:</span> agentid<span class="token punctuation">,</span>       <span class="token string">"news"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>           <span class="token string">"articles"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>               <span class="token punctuation">{</span>                   <span class="token string">"title"</span><span class="token punctuation">:</span> title<span class="token punctuation">,</span>                   <span class="token string">"description"</span><span class="token punctuation">:</span> summary<span class="token punctuation">,</span>                   <span class="token string">"url"</span><span class="token punctuation">:</span> link<span class="token punctuation">,</span>                   <span class="token string">"picurl"</span><span class="token punctuation">:</span> img<span class="token punctuation">,</span>               <span class="token punctuation">}</span>           <span class="token punctuation">]</span>       <span class="token punctuation">}</span><span class="token punctuation">,</span>       <span class="token string">"enable_id_trans"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>       <span class="token string">"enable_duplicate_check"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>       <span class="token string">"duplicate_check_interval"</span><span class="token punctuation">:</span> <span class="token number">1800</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">"POST"</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>    <span class="token keyword">except</span> ReadTimeout<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"Connection timeout...."</span>    <span class="token keyword">except</span> ConnectionError<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"Connection Error...."</span>    <span class="token keyword">except</span> RequestException<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"Unknown Error"</span>    ret <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>    errcode <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token string">"errcode"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> errcode <span class="token operator">==</span> <span class="token string">"42001"</span><span class="token punctuation">:</span>        <span class="token comment"># 重新获得Token</span>        getToken<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># 重新发送</span>        sendmsg<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> response<span class="token punctuation">.</span>textrun<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'localhost'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">8080</span><span class="token punctuation">,</span> debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这个代码我放到树莓派上了，接着就是通过<code>Node-RED</code>来调这个接口。当然你也可以直接用<code>Node-RED</code>来实现，我比较喜欢封装下，不然流得搞的老长。<br>最后看看<strong>Node-RED</strong>流<br><img src="/img/20220401/6e2a064bf94f8d88e2927257a7b5afdc.jpg" alt="流"><br>没啥特别的就不贴代码了。</p><p>最后效果如下图：<br><img src="/img/20220401/37a597f192a1c1df381d8d34f31d0e0b.jpg" alt="效果图"></p><h3 id="2-写在最后"><a href="#2-写在最后" class="headerlink" title="2.写在最后"></a>2.写在最后</h3><hr><p>这个还可以扩展，比如加上在文章上加上推送开关，或者要推送的人，这样就可以实现个性化通知了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;之前更新关于彤宝的博客会分享给老婆，但是每次手动分享有点麻烦，所以就有了这篇文章了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-前期准备&quot;&gt;&lt;a href=&quot;#0-前期准备&quot; class=&quot;headerlink&quot; title=&quot;0.前</summary>
      
    
    
    
    <category term="教程" scheme="https://www.wangxingyang.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="企业微信通知" scheme="https://www.wangxingyang.com/tags/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E9%80%9A%E7%9F%A5/"/>
    
    <category term="RSS" scheme="https://www.wangxingyang.com/tags/RSS/"/>
    
    <category term="Node_RED" scheme="https://www.wangxingyang.com/tags/Node-RED/"/>
    
  </entry>
  
  <entry>
    <title>周末分享</title>
    <link href="https://www.wangxingyang.com/dayshare220327.html"/>
    <image>https://www.wangxingyang.com/img/20220327/cover.jpeg</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220327.html</id>
    <published>2022-03-27T13:27:16.000Z</published>
    <updated>2022-04-01T07:00:41.489Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>南京疫情，居家办公一周了，周末在家就搞点事情做做，所以准备做些西点吃吃。</p></blockquote><h3 id="0-第一天"><a href="#0-第一天" class="headerlink" title="0.第一天"></a>0.第一天</h3><hr><p>白天没啥事情，就陪她玩玩，下去跑跑，晚上回来开始做纸杯蛋糕，步骤咱就不啰嗦了，晚上都有，这边交作业。看看结果如何吧。</p><p><img src="/img/20220327/1.jpg" alt="吃蛋糕🧁"></p><p><img src="/img/20220327/2.jpg" alt="吃蛋糕🧁"><br><img src="/img/20220327/3.jpg" alt="吃蛋糕🧁"></p><p><img src="/img/20220327/4.jpg" alt="新鲜出炉的🧁"></p><h3 id="1-第二天"><a href="#1-第二天" class="headerlink" title="1.第二天"></a>1.第二天</h3><hr><p>晚上准备来个披萨，做的时候发现材料没准备齐全，所以就带她出去玩玩，顺便买个材料，下面看看彤宝玩滑草板吧。</p><p><img src="/img/20220327/5.jpg" alt="坐在滑草板上"></p><p><img src="/img/20220327/6.jpg" alt="开滑"></p><p><img src="/img/20220327/7.jpg" alt="“头疼”的造型"></p><p><img src="/img/20220327/8.jpg" alt="👌造型"></p><p><img src="/img/20220327/9.jpg" alt="合照"></p><p><img src="/img/20220327/10.jpg" alt="哈哈又是一个OK"></p><p>下面看看披萨🍕的照片</p><p><img src="/img/20220327/11.jpeg" alt="烹饪中"></p><p><img src="/img/20220327/12.jpeg" alt="出锅的🍕"></p><h3 id="2-总结"><a href="#2-总结" class="headerlink" title="2.总结"></a>2.总结</h3><hr><p>周末自己动手做些之前没做过的东西还是很解压的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;南京疫情，居家办公一周了，周末在家就搞点事情做做，所以准备做些西点吃吃。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-第一天&quot;&gt;&lt;a href=&quot;#0-第一天&quot; class=&quot;headerlink&quot; title=&quot;0.第一天&quot;&gt;&lt;/a&gt;</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="遛娃" scheme="https://www.wangxingyang.com/tags/%E9%81%9B%E5%A8%83/"/>
    
    <category term="纸杯蛋糕" scheme="https://www.wangxingyang.com/tags/%E7%BA%B8%E6%9D%AF%E8%9B%8B%E7%B3%95/"/>
    
    <category term="披萨" scheme="https://www.wangxingyang.com/tags/%E6%8A%AB%E8%90%A8/"/>
    
  </entry>
  
</feed>
