<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>宁静致远</title>
  
  <subtitle>静心整理/分享生活</subtitle>
  <link href="https://www.wangxingyang.com/atom.xml" rel="self"/>
  
  <link href="https://www.wangxingyang.com/"/>
  <updated>2022-06-23T14:18:00.325Z</updated>
  <id>https://www.wangxingyang.com/</id>
  
  <author>
    <name>彤爸比</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>用群晖搭建私人图床</title>
    <link href="https://www.wangxingyang.com/lychee.html"/>
    <image>https://pic.rmb.bdstatic.com/bjh/d2bb8e9c4494d3297add3cb2f038b2aa.png</image>
    
    <id>https://www.wangxingyang.com/lychee.html</id>
    <published>2022-06-23T13:42:13.000Z</published>
    <updated>2022-06-23T14:18:00.325Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>上次说到不想用别人的图床，这边<a href="https://www.wangxingyang.com/blogupdate.html">博客更新记录</a>可以看到，这不现在就要给他安排上了。准备自建的图床放置一些私人的图片，无关紧要的还是放到公共的图床上。</p></blockquote><h3 id="0-图床搭建"><a href="#0-图床搭建" class="headerlink" title="0.图床搭建"></a>0.图床搭建</h3><hr><p>晚上检索下群晖图床会有很多结果，这边选择了比较简洁的<a href="https://lycheeorg.github.io/">Lychee</a>，GitHub地址<a href="https://github.com/LycheeOrg/Lychee">在这</a>照着教程搭起来就行。这次主要的任务在于https访问，这边做个记录📝。</p><h3 id="1-增加Https访问"><a href="#1-增加Https访问" class="headerlink" title="1.增加Https访问"></a>1.增加Https访问</h3><hr><p>搭建好的是不能通过https访问的，别问我怎么知道的。下面就开整，让它跑起来<br>首先需要有证书，这边使用的是<strong>Let’s Encrypt 的免费证书</strong>，华硕路由里有这个设置，会帮助自动更新的。<br><img src="https://pic.rmb.bdstatic.com/bjh/437abd16b72502b24076e15f26965dc6.png" alt="路由截图"></p><h5 id="证书到手，现在开始去整Lychee上的Nginx"><a href="#证书到手，现在开始去整Lychee上的Nginx" class="headerlink" title="证书到手，现在开始去整Lychee上的Nginx"></a>证书到手，现在开始去整<strong>Lychee</strong>上的<strong>Nginx</strong></h5><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># 1、查出运行的容器$ sudo docker ps -aCONTAINER ID   IMAGE                                     COMMAND                  CREATED        STATUS                    PORTS                                         NAMES5bee8392f00a   lycheeorg/lychee:latest                   "/entrypoint.sh nginx"   7 days ago     Up 17 hours (healthy)     0.0.0.0:6883-&gt;80/tcp, 0.0.0.0:6884-&gt;443/tcp   lycheeorg-lychee# 2、进入容器开整$ sudo docker exec -it 5bee8392f00a /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="新开一个标签把证书拷到容器里"><a href="#新开一个标签把证书拷到容器里" class="headerlink" title="新开一个标签把证书拷到容器里"></a>新开一个标签把证书拷到容器里</h6><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># 1、获得容器的长ID$ sudo docker inspect -f '{{.ID}}' lycheeorg-lychee5bee8392fdedeede8646334743875634563457435cb1# 先到证书存放的目录，然后执行以下命令sudo docker cp cert_key.tar 5bee8392fdedeede8646334743875634563457435cb1:/etc/nginx/cert<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="证书就位，开始整配置"><a href="#证书就位，开始整配置" class="headerlink" title="证书就位，开始整配置"></a>证书就位，开始整配置</h5><p>配置路径在 <strong>/etc/nginx/nginx.conf</strong><br>这边修改将80的配置修改成443的，然后添加80重定向到443的配置即可。配置文件完整如下：</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">user www-data;worker_processes auto;daemon off;error_log /var/log/nginx/error.log;events {    worker_connections  1024;}http {    include       mime.types;    default_type  application/octet-stream;    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '                      '$status $body_bytes_sent "$http_referer" '                      '"$http_user_agent" "$http_x_forwarded_for"';    access_log  /var/log/nginx/access.log  main;    sendfile        on;    keepalive_timeout  65;    # By default, if the processing of images takes more than 60s,    # a 504 Gateway timeout occurs, so we increase the timeout here    # to allow procesing of large images or when multiple images are    # being processed at the same time. We set max_execution_time    # below to the same value.    fastcgi_read_timeout 3600;    # We also set the send timeout since this can otherwise also cause    # issues with slow connections    fastcgi_send_timeout 3600;    gzip  on;    server {listen 80;server_name your.domain.com; return 301 https://$host$request_uri;     }    server {        root /var/www/html/Lychee/public;listen 443 ssl;         server_name your.domain.com;         ssl_certificate /etc/nginx/cert/cert.pem;         ssl_certificate_key /etc/nginx/cert/key.pem;         ssl_session_timeout 5m;        ssl_protocols TLSv1.2 TLSv1.3;         ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;         ssl_prefer_server_ciphers on;        client_max_body_size 100M;                # serve static files directly        location ~* \.(jpg|jpeg|gif|css|png|js|ico|html)$ {            access_log off;            expires max;            log_not_found off;        }        # removes trailing slashes (prevents SEO duplicate content issues)        if (!-d $request_filename)        {            rewrite ^/(.+)/$ /$1 permanent;        }        # If the request is not for a valid file (image, js, css, etc.), send to bootstrap        if (!-e $request_filename)        {            rewrite ^/(.*)$ /index.php?/$1 last;            break;        }        location / {            index  index.php            try_files $uri $uri/ /index.php?$query_string;        }        # Serve /index.php through PHP        location = /index.php {            fastcgi_split_path_info ^(.+?\.php)(/.*)$;            try_files $uri $document_root$fastcgi_script_name =404;            # Mitigate https://httpoxy.org/ vulnerabilities            fastcgi_param HTTP_PROXY "";            fastcgi_pass unix:/run/php/php8.1-fpm.sock;            fastcgi_index index.php;            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;            fastcgi_param PHP_VALUE "post_max_size=100M                max_execution_time=3600                upload_max_filesize=100M                memory_limit=256M";            fastcgi_param PATH /usr/local/bin:/usr/bin:/bin;            include fastcgi_params;        }        # Deny access to other .php files, rather than exposing their contents        location ~ [^/]\.php(/|$) {            return 403;        }    }    include /etc/nginx/conf.d/*.conf;}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这边都整好了，群晖上也要加个443的端口映射。然后路由上也增加相关的端口映射，到此就整完了。现在访问一下试试。<br><img src="https://pic.rmb.bdstatic.com/bjh/93720316a2f7f973cbf6e88b5576ce30.png" alt="成果截图"></p><h3 id="2-写在最后"><a href="#2-写在最后" class="headerlink" title="2.写在最后"></a>2.写在最后</h3><hr><p>之前http的协议在https的博客上会被自动升级成https访问，但是图床又不支持，所以图片会挂掉，所以现在就能够愉快的玩耍了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;上次说到不想用别人的图床，这边&lt;a href=&quot;https://www.wangxingyang.com/blogupdate.html&quot;&gt;博客更新记录&lt;/a&gt;可以看到，这不现在就要给他安排上了。准备自建的图床放置一些私人的图片，无关紧要的还是放到</summary>
      
    
    
    
    <category term="博客" scheme="https://www.wangxingyang.com/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="图床" scheme="https://www.wangxingyang.com/tags/%E5%9B%BE%E5%BA%8A/"/>
    
    <category term="Lychee" scheme="https://www.wangxingyang.com/tags/Lychee/"/>
    
    <category term="群晖" scheme="https://www.wangxingyang.com/tags/%E7%BE%A4%E6%99%96/"/>
    
    <category term="Https" scheme="https://www.wangxingyang.com/tags/Https/"/>
    
  </entry>
  
  <entry>
    <title>周末分享</title>
    <link href="https://www.wangxingyang.com/dayshare220612.html"/>
    <image>https://pic.rmb.bdstatic.com/bjh/e1aed3de94e4653637369f5f7b850473.jpeg</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220612.html</id>
    <published>2022-06-12T11:51:10.000Z</published>
    <updated>2022-06-23T14:12:49.784Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>这周末还是很充实的，下面就和我一起来看看充实的周末生活吧。</p></blockquote><h3 id="0-打羽毛球🏸️"><a href="#0-打羽毛球🏸️" class="headerlink" title="0.打羽毛球🏸️"></a>0.打羽毛球🏸️</h3><hr><p>这个周末起了了大早去打羽毛球🏸️了，6点到9点的场地，一个人🔟元，还是很划算的。就是时间有点早，不过6点半到的时候已经只剩两个场地了。大家的运动热情还是很高的。足足打了两个半小时，还被60多岁的爷爷嘲笑我们打的是老年球。不过他打的确实有点猛。下周还要继续羽毛。</p><h3 id="1-早教课"><a href="#1-早教课" class="headerlink" title="1.早教课"></a>1.早教课</h3><hr><p>打完球回去稍事休息就带彤宝去上课了，彤宝这周的表现还是十分的不错的。能够自己主动大声的做自我介绍，各个游戏也完成的很好。</p><p><img src="https://freefitter.asuscomm.com:6884/uploads/big/e97ba3891ab21077203b2d9b663e308e.jpg" alt="自我介绍"></p><h3 id="2-下关火车主题公园"><a href="#2-下关火车主题公园" class="headerlink" title="2.下关火车主题公园"></a>2.下关火车主题公园</h3><hr><p>早上做轮渡去中山码头，然后去主题公园玩了一下，还看了玻璃栈道，风景还是不错的。下面来看看吧。</p><p><img src="https://pic3.58cdn.com.cn/nowater/webim/big/n_v281a029247ba04522bb65eca0fa73dc73.jpg" alt="船🚢"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/e1aed3de94e4653637369f5f7b850473.jpeg" alt="长江大桥🌉"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/21090be3199714ac347c3be92a896e11.jpeg" alt="长江大桥🌉"></p><p><img src="/img/20220612/IMG_3571.jpg" alt="开心"></p><p><img src="/img/20220612/4f98d896c0903c305535ec28557423.jpg" alt="彤宝"></p><p><img src="/img/20220612/default.png" alt="这是啥"></p><p><img src="/img/20220612/82096909b0a52176b70cbf19af33a4.jpg" alt="看大桥"></p><p><img src="/img/20220612/97c15ffc38e9aea53dd5e0708be487.jpg" alt="读读书"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;这周末还是很充实的，下面就和我一起来看看充实的周末生活吧。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-打羽毛球🏸️&quot;&gt;&lt;a href=&quot;#0-打羽毛球🏸️&quot; class=&quot;headerlink&quot; title=&quot;0.打羽毛球🏸️&quot;</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="遛娃" scheme="https://www.wangxingyang.com/tags/%E9%81%9B%E5%A8%83/"/>
    
    <category term="大桥公园" scheme="https://www.wangxingyang.com/tags/%E5%A4%A7%E6%A1%A5%E5%85%AC%E5%9B%AD/"/>
    
    <category term="玻璃栈道" scheme="https://www.wangxingyang.com/tags/%E7%8E%BB%E7%92%83%E6%A0%88%E9%81%93/"/>
    
  </entry>
  
  <entry>
    <title>端午节游记</title>
    <link href="https://www.wangxingyang.com/dayshare220603.html"/>
    <image>https://pic.rmb.bdstatic.com/bjh/01ebc0146e3ef5bc9fc42dc3a49932c9.jpeg</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220603.html</id>
    <published>2022-06-05T11:43:31.000Z</published>
    <updated>2022-06-06T03:19:28.677Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>这个端午节，奶奶回老家了。彤宝和爸爸妈妈度过这个愉快的端午节。节假日出去遛那是必须的，这次去了一个之前没去过的地方-浅山公园。就解锁了这一个地方，因为天气太热了。</p></blockquote><h3 id="0-周四晚上"><a href="#0-周四晚上" class="headerlink" title="0.周四晚上"></a>0.周四晚上</h3><hr><p>晚上奶奶回家了，她自己坐一面，然后自己用学习筷🥢吃着烧肉圆。现在要主动使用筷子了，越来越厉害了。看看彤宝的视频吧。</p><p><video src="/img/20220605/S_saved.MOV" controls="controls" width="100%" muted="" autoplay="true" loop="loop"></video></p><h3 id="1-端午节"><a href="#1-端午节" class="headerlink" title="1.端午节"></a>1.端午节</h3><hr><p>今天出去玩，去<strong>浅山公园</strong>玩耍，这是一个🆕地方，之前没去过，还是很不错的。里面小孩子玩的设施还是很多的，人也不多，只是天气本来事多云的，最后变成了烈日当空。</p><p><img src="/img/20220605/WechatIMG6928.jpeg" alt="粽子馒头"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/01ebc0146e3ef5bc9fc42dc3a49932c9.jpeg" alt="浅山公园"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/8993900e4a2162380b7dd58098dc6774.jpeg" alt="滑滑梯"></p><p><img src="/img/20220605/WechatIMG6932.jpeg" alt="当🐎骑"></p><p><img src="/img/20220605/WechatIMG6935.jpeg" alt="荡秋千"></p><p><img src="/img/20220605/WechatIMG6937.jpeg" alt="摇摇摇"></p><p>玩耍结束🔚后就去吃了面条，一盘牛肉，一个人全部吃完，还吃了好多宽面。</p><p><img src="/img/20220605/WechatIMG6938.jpeg" alt="等肉中"></p><p><img src="/img/20220605/WechatIMG6940.jpeg" alt="吃肉中"></p><h3 id="2-周六"><a href="#2-周六" class="headerlink" title="2.周六"></a>2.周六</h3><hr><p>早上上了个感统课，吃了个午饭，然后就回家休息了。晚上出来逛逛，再顺便吃个晚饭。</p><p><img src="/img/20220605/WechatIMG6941.jpeg" alt="走，吃饭去"></p><p><img src="/img/20220605/WechatIMG6942.jpeg" alt="吃饭中"></p><p><img src="/img/20220605/WechatIMG6943.jpeg" alt="吃饭中"></p><p><img src="/img/20220605/WechatIMG6944.jpeg" alt="吃饭中"></p><p><img src="/img/20220605/WechatIMG6945.jpeg" alt="吃饭中"></p><p><img src="/img/20220605/WechatIMG6946.jpeg" alt="吃完了"></p><h3 id="3-周日"><a href="#3-周日" class="headerlink" title="3.周日"></a>3.周日</h3><hr><p>早上彤妈加班，我就一个人带她了，中午搞了个炖蛋给她吃，晚上约了同事一起打羽毛球，每周运动下还是很舒服的。</p><p><img src="/img/20220605/WechatIMG6947.jpeg" alt="看我打球"></p><h3 id="4-写在最后"><a href="#4-写在最后" class="headerlink" title="4.写在最后"></a>4.写在最后</h3><hr><p>这个假期并不丰富多彩，但是很充实。带娃还是很累滴。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;这个端午节，奶奶回老家了。彤宝和爸爸妈妈度过这个愉快的端午节。节假日出去遛那是必须的，这次去了一个之前没去过的地方-浅山公园。就解锁了这一个地方，因为天气太热了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;0-周四晚上&quot;&gt;&lt;a href=</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="遛娃" scheme="https://www.wangxingyang.com/tags/%E9%81%9B%E5%A8%83/"/>
    
    <category term="端午" scheme="https://www.wangxingyang.com/tags/%E7%AB%AF%E5%8D%88/"/>
    
    <category term="浅山公园" scheme="https://www.wangxingyang.com/tags/%E6%B5%85%E5%B1%B1%E5%85%AC%E5%9B%AD/"/>
    
  </entry>
  
  <entry>
    <title>快乐的六一</title>
    <link href="https://www.wangxingyang.com/dayshare220601.html"/>
    <image>https://pic.rmb.bdstatic.com/bjh/0378caffa58eedaf52be9867dd9783f4.jpeg</image>
    <notify>true</notify>
    <id>https://www.wangxingyang.com/dayshare220601.html</id>
    <published>2022-06-01T14:49:31.000Z</published>
    <updated>2022-06-02T01:59:09.326Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>今天是六一儿童节，小学生们下午就不上课了，这不彤妈也有时间来带彤宝玩了，她约上了福宝一起做纸杯蛋糕吃🧁，一起看看彤宝和福宝吧。</p></blockquote><p><img src="/img/20220601/WechatIMG295.jpeg" alt="不知道在交流啥"></p><p><img src="/img/20220601/WechatIMG296.jpg" alt="你拍你的，我玩我的"></p><p><img src="/img/20220601/WechatIMG300.jpg" alt="一起荡秋千"></p><p><img src="/img/20220601/WechatIMG301.jpg" alt="纸杯蛋糕🧁出炉"></p><p><img src="https://pic.rmb.bdstatic.com/bjh/8ee11ae94d8fff9bc7e6e2925ca0001f.jpeg" alt="我们的背包🎒"></p><p><img src="/img/20220601/WechatIMG304.jpg" alt="我和叔叔一起玩"></p><p><img src="/img/20220601/WechatIMG305.jpg" alt="我也和叔叔一起玩"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;今天是六一儿童节，小学生们下午就不上课了，这不彤妈也有时间来带彤宝玩了，她约上了福宝一起做纸杯蛋糕吃🧁，一起看看彤宝和福宝吧。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;/img/20220601/WechatIMG295.j</summary>
      
    
    
    
    <category term="生活" scheme="https://www.wangxingyang.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="纸杯蛋糕" scheme="https://www.wangxingyang.com/tags/%E7%BA%B8%E6%9D%AF%E8%9B%8B%E7%B3%95/"/>
    
    <category term="六一" scheme="https://www.wangxingyang.com/tags/%E5%85%AD%E4%B8%80/"/>
    
    <category term="好朋友" scheme="https://www.wangxingyang.com/tags/%E5%A5%BD%E6%9C%8B%E5%8F%8B/"/>
    
  </entry>
  
  <entry>
    <title>桌面组件修改</title>
    <link href="https://www.wangxingyang.com/uebersicht.html"/>
    <image>https://pic.rmb.bdstatic.com/bjh/299b95e340abd6e470cfc766527043b3.jpeg</image>
    
    <id>https://www.wangxingyang.com/uebersicht.html</id>
    <published>2022-05-25T02:00:25.000Z</published>
    <updated>2022-05-25T03:52:28.812Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>之前的电脑上装了<code>Übersicht</code>，是一个桌面自定义的软件，之前用起来还不错，不过之前的插件是用<code>CoffeeScript</code> 写的，说实话，写起来挺麻烦的，现在换成<code>React</code>了，应该会比之前方便。找了一个颜值不错的组件也改了下子。下面就来看看我改的地方吧。</p></blockquote><blockquote><p>引用之前官网上的话 <code>密切关注您的机器和世界上正在发生的事情</code>还是挺贴切的</p><h5 id="Keep-an-eye-on-what-is-happening-on-your-machine-and-in-the-World"><a href="#Keep-an-eye-on-what-is-happening-on-your-machine-and-in-the-World" class="headerlink" title="Keep an eye on what is happening on your machine and in the World."></a>Keep an eye on what is happening on your machine and in the World.</h5><p><a href="http://tracesof.net/uebersicht/">官网</a>在这，点击直达。<a href="https://tracesof.net/uebersicht-widgets/">插件市场</a>点击直达。</p></blockquote><h3 id="0-成果展示"><a href="#0-成果展示" class="headerlink" title="0.成果展示"></a>0.成果展示</h3><hr><p>增加了即将到了的节假日，方便我们查看还有多久到假期。下面是成果展示。之前的项目地址在这边。<a href="https://github.com/Hazard4U/TodoListWidget">TodoListWidget</a>点击直达。</p><p><img src="https://pic.rmb.bdstatic.com/bjh/42b7364a04ab66d8e836b53e44a44ef1.png" alt="成果截图"></p><h3 id="1-代码修改"><a href="#1-代码修改" class="headerlink" title="1.代码修改"></a>1.代码修改</h3><hr><ol><li>增加了一个自动操作，就是获得未来15天内节假日的。</li></ol><p><img src="https://pic.rmb.bdstatic.com/bjh/acfce2824cb555750e8a7b9cfb077df0.jpeg" alt="截图"></p><p>返回的结果如下：</p><pre class="line-numbers language-none"><code class="language-none">日程共计：3EVENT 1 OF 3Summary:端午节 假期 第1天/共3天Status:noneDate:2022/6/3 to 2022/6/4Time:上午12:00:00 to 上午12:00:00Notes:五、端午节：6月3日至5日放假，共3天。放假通知: http://www.gov.cn/zhengce/content/2021-10/25/content_5644835.htmEVENT 2 OF 3Summary:端午节 假期 第2天/共3天Status:noneDate:2022/6/4 to 2022/6/5Time:上午12:00:00 to 上午12:00:00Notes:五、端午节：6月3日至5日放假，共3天。放假通知: http://www.gov.cn/zhengce/content/2021-10/25/content_5644835.htmEVENT 3 OF 3Summary:端午节 假期 第3天/共3天Status:noneDate:2022/6/5 to 2022/6/6Time:上午12:00:00 to 上午12:00:00Notes:五、端午节：6月3日至5日放假，共3天。放假通知: http://www.gov.cn/zhengce/content/2021-10/25/content_5644835.htm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这个节假日是GitHub上<a href="https://github.com/lanceliao/china-holiday-calender">china-holiday-calender</a>的这个项目。大家订阅就完事了。几个主要的地方的代码贴下子。这个是获得相关信息的。在<strong>actions.mjs</strong>文件中</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">getComingHoliday</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> stdout<span class="token punctuation">;</span>    <span class="token keyword">try</span><span class="token punctuation">{</span>        stdout <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">automator "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PATH</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/automator/get_holiday.app"</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>        stdout <span class="token operator">=</span> e<span class="token punctuation">.</span>message<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> matches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>stdout<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Summary:\s*(.*)\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> dates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>stdout<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Date:\s*(.*)\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> dateArr <span class="token operator">=</span> dates<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">group</span> <span class="token operator">=&gt;</span> group<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> matArr <span class="token operator">=</span> matches<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">group</span> <span class="token operator">=&gt;</span> group<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dateArr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> dateStr <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> holidayArr <span class="token operator">=</span>  matArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        matArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> dateStr <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> holidayArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" | "</span> <span class="token operator">+</span> holidayArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> matArr<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>接着在首页展示就行，在<strong>index.jsx</strong>文件中</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ListContainer</span></span>   <span class="token attr-name">dispatch</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dispatch<span class="token punctuation">}</span></span>   <span class="token attr-name">reminders</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>reminders<span class="token punctuation">.</span>holiday<span class="token punctuation">}</span></span>   <span class="token attr-name">done</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span></span>   <span class="token attr-name">flag</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span></span>   <span class="token attr-name">sentences</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>plural<span class="token operator">:</span> config<span class="token punctuation">.</span>todo<span class="token punctuation">.</span>commingholiday<span class="token punctuation">,</span> singular<span class="token operator">:</span> config<span class="token punctuation">.</span>todo<span class="token punctuation">.</span>commingholiday<span class="token punctuation">}</span><span class="token punctuation">}</span></span>   <span class="token attr-name">color</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>current_activeColor<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>展示改了下子，在 <strong>components/Task.jsx</strong>中增加了标志判断，以显示日期标签。</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"uebersicht"</span><span class="token punctuation">;</span><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">"../styles.mjs"</span><span class="token punctuation">;</span><span class="token keyword">import</span> dispatchers <span class="token keyword">from</span> <span class="token string">"../dispatchers.mjs"</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token punctuation">{</span>text<span class="token punctuation">}</span> <span class="token operator">=</span> styles<span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">Task</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token function-variable function">reminderButtonHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      dispatchers<span class="token punctuation">.</span><span class="token function">changeReminderStatus</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>dispatch<span class="token punctuation">,</span> <span class="token punctuation">{</span>done<span class="token operator">:</span> props<span class="token punctuation">.</span>done<span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>children<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> id<span class="token operator">:</span> props<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> strs <span class="token operator">=</span> props<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> day <span class="token operator">=</span> strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>display<span class="token operator">:</span> <span class="token string">"flex"</span><span class="token punctuation">,</span> alignItems<span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span> marginBottom<span class="token operator">:</span> <span class="token string">"10px"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            width<span class="token operator">:</span> <span class="token string">"13px"</span><span class="token punctuation">,</span>            height<span class="token operator">:</span> <span class="token string">"13px"</span><span class="token punctuation">,</span>            borderRadius<span class="token operator">:</span> <span class="token string">"2px"</span><span class="token punctuation">,</span>            border<span class="token operator">:</span> <span class="token string">"1px solid"</span><span class="token punctuation">,</span>            textAlign<span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>            lineHeight<span class="token operator">:</span> <span class="token string">"15px"</span><span class="token punctuation">,</span>            color<span class="token operator">:</span> <span class="token string">"white"</span><span class="token punctuation">,</span>            padding<span class="token operator">:</span> <span class="token string">"1px"</span><span class="token punctuation">,</span>            borderColor<span class="token operator">:</span> props<span class="token punctuation">.</span>color<span class="token punctuation">,</span>            backgroundColor<span class="token operator">:</span> props<span class="token punctuation">.</span>flag <span class="token operator">?</span> props<span class="token punctuation">.</span>color <span class="token operator">:</span> <span class="token string">"transparent"</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>day<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>marginLeft<span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">,</span> textAlign<span class="token operator">:</span> <span class="token string">"left"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>text<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>display<span class="token operator">:</span> <span class="token string">"flex"</span><span class="token punctuation">,</span> alignItems<span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span> marginBottom<span class="token operator">:</span> <span class="token string">"10px"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>reminderButtonHandler<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            width<span class="token operator">:</span> <span class="token string">"15px"</span><span class="token punctuation">,</span>            height<span class="token operator">:</span> <span class="token string">"15px"</span><span class="token punctuation">,</span>            borderRadius<span class="token operator">:</span> <span class="token string">"8px"</span><span class="token punctuation">,</span>            border<span class="token operator">:</span> <span class="token string">"1px solid"</span><span class="token punctuation">,</span>            borderColor<span class="token operator">:</span> props<span class="token punctuation">.</span>color<span class="token punctuation">,</span>            backgroundColor<span class="token operator">:</span> props<span class="token punctuation">.</span>done <span class="token operator">?</span> props<span class="token punctuation">.</span>color <span class="token operator">:</span> <span class="token string">"transparent"</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>marginLeft<span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">,</span> textAlign<span class="token operator">:</span> <span class="token string">"left"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>text<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>      <span class="token punctuation">)</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-写在最后"><a href="#2-写在最后" class="headerlink" title="2.写在最后"></a>2.写在最后</h3><hr><p>自己动手改改，学习学习别人的写法喝想法，还是很棒的。抽空学习下</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;之前的电脑上装了&lt;code&gt;Übersicht&lt;/code&gt;，是一个桌面自定义的软件，之前用起来还不错，不过之前的插件是用&lt;code&gt;CoffeeScript&lt;/code&gt; 写的，说实话，写起来挺麻烦的，现在换成&lt;code&gt;React&lt;/code&gt;</summary>
      
    
    
    
    <category term="工具" scheme="https://www.wangxingyang.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="桌面插件" scheme="https://www.wangxingyang.com/tags/%E6%A1%8C%E9%9D%A2%E6%8F%92%E4%BB%B6/"/>
    
    <category term="Mac美化" scheme="https://www.wangxingyang.com/tags/Mac%E7%BE%8E%E5%8C%96/"/>
    
  </entry>
  
</feed>
